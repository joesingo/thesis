\chapter{Truth-Tracking with Non-Expert Sources}
\label{chapter_truthtracking}

In this chapter we apply the framework of the previous chapter to study
\emph{truth-tracking}.
%
Broadly speaking, the goal of truth-tracking is to find
the true state of the world given some input which describes it. In our case
this involves finding the true state of some propositional domain about which
the sources give reports, and finding the extent of the expertise of the
sources themselves.

The general problem of truth-tracking has been studied in various forms across
many domains. Perhaps the oldest approach goes back to \textcite{condorcet}, whose
celebrated \emph{Jury Theorem} states that a majority vote on a yes/no issue
will yield the ``correct'' answer with probability approaching 1 as the number
of voters tends to infinity, provided that each voter is more reliable than
random choice. This result has since been generalised in many
directions~\cite{grofman1983thirteen}. More widely, \emph{epistemic social
choice}~\cite{elkind2016rationalizations} studies aggregation methods (e.g.
voting rules) from the point of finding the ``correct'' result with high
probability, where individual votes are seen as noisy approximations. Of
particular relevance to our work is truth-tracking in \emph{judgement
aggregation} in social
choice~\cite{hartmann_judgment_2012,TerzopoulouEndrissSAGT2019}, which also
takes place in a logical framework. \emph{Belief merging} has close links with
judgement aggregation, and generalised jury theorems have been found here
too~\cite{everaere_epistemic_2010}.

The problem of \emph{truth discovery}~\cite{li_survey_2016}, from the
crowdsourcing literature and familiar from \cref{chapter_td}, looks at how
information from unreliable sources can be aggregated to find the true claims
associated with a number of objects, and to find the true reliability level of
the sources.  Work in this area typically combines empirical results (e.g. how
well methods find the truth on test datasets for which true values are known)
and theoretical guarantees, and is typically set in a probabilistic framework.

On the other hand, \emph{formal learning theory}~\cite{jain1999systems} offers
a non-probabilistic view on truth-tracking, stemming from the classical
framework of \textcite{Gold_1967} for identification in the limit. In this
paradigm a learner receives an infinite sequence of information step-by-step,
such that all true information eventually appears in the sequence. The learner
outputs a hypothesis at each step, and aims to stabilise on the correct
hypothesis after some finite number of steps. This framework has been combined
with belief revision theory~\cite{kelly1997reliable,baltag_tt_2019} and dynamic
epistemic logic~\cite{baltag2019dynamic}.

This is the approach we take, and in particular we adapt the truth-tracking
setting of \textcite{baltag_tt_2019}. We apply this to the logical framework of
\cref{chapter_belief_change}, which extends a finitely-generated propositional
language with two new notions: that of a source having expertise on a
formula, and a formula being sound for a source to report. Consequently
we can consider learning both the \emph{ontic} facts of the world, via
purely propositional formulas, and the \emph{epistemic} state of the
sources, via expertise and soundness formulas.

For the most part, formal learning theory supposes that all information
received is true, and that all true information is eventually
received.\footnotemark{} This is not a tenable assumption with non-expert
sources: some sources may simply lack the expertise to know whether $\phi$ is
true or false. In the bulk of this chapter we make a different (and strong)
assumption: all and only \emph{sound reports} are received. Thus, sources
report everything consistent with their expertise, which necessitates
inconsistent reports from non-experts. Inputs of this form should therefore be
distinguished from the inputs to belief revision and belief merging
methods~\cite{alchourron1985logic,konieczny2002merging} -- also propositional
formulas -- which represent \emph{beliefs} of the reporting sources.
%
Later we go on to model beliefs of sources directly, and sketch an approach to
learning in which sources report all and only that which they believe. Some
preliminary results are presented for this alternative model.

\footnotetext{
    But see \textcite[\sectionsymbol{8.1}]{jain1999systems}, which considers
    inaccurate data of various kinds, and
    \textcite{baltag_tt_2019}, which consider erroneous reports
    provided that all errors are eventually corrected.
}

The following example -- a modification of the motivating example from
\cref{chapter_belief_change} -- informally illustrates the core concepts and
will be returned to throughout the chapter.

\begin{example}
    \label{tt_ex_informal_example}

    Consider a medical scenario in which patient $\patientA{}$ is checked for
    conditions $p$ and $q$. By examining $\patientA{}$, a doctor
    $\dr{}$ has expertise to determine whether $\patientA{}$ has at least one
    of $p$ or $q$, but cannot tell which one(s) without a blood test. A test is
    only available for $p$, however, so that the technician $\tech{}$
    performing the test has expertise on $p$ but not $q$.

    Supposing $\patientA{}$ in fact suffers from $q$ but not $p$, $\dr{}$
    considers each of $p \land q$, $\neg p \land q$ and $p \land \neg q$
    possible, whereas $\tech{}$ considers both $\neg p \land q$ and $\neg p
    \land \neg q$ possible.
    %
    Assuming both sources report \emph{all} they consider possible, their
    combined expertise leaves $\neg p \land q$ as the only
    possibility. Intuitively, this means we \emph{can} find the true values of
    $p$ and $q$ in this case.

    Now consider a patient $\patientB{}$ who suffers from both conditions.
    $\dr{}$ cannot distinguish $\patientA{}$ and $\patientB{}$, so will provide
    the same reports, and $\tech{}$ considers both $p \land q$ and $p \land
    \neg q$ possible. In this case $\tech{}$ is more knowledgable than $\dr{}$
    -- since they consider fewer situations possible -- but we cannot narrow
    down the true value of $q$. Thus truth-tracking is only possible for $p$.
    %
    The second patient still provides useful information, though, since
    together with the reports on $\patientA{}$,
    $\tech{}$'s lack of expertise tells us all the (in)distinctions between
    states they are able to make. Namely, $\tech{}$ cannot distinguish between
    $p \land q$ and $p \land \neg q$. Thus we can find the truth about
    $\tech{}$'s expertise.

\end{example}

\paragraph{Contributions.}

This chapter adapts learning-theoretic notions from formal learning theory --
and in particular its intersection with belief revision~\cite{baltag_tt_2019}
-- to handle non-expert information sources. We establish the limits of
learning in this setting, and conditions under which one can learn the true
facts of the world as well as the true extent of the expertise of the sources.
We go on to characterise truth-tracking learning methods in terms of syntactic
postulates, and look specifically at the methods already introduced in
\cref{chapter_belief_change}. Finally, we consider a different model in which
the beliefs of sources are represented explicitly, and give some preliminary
results in this setting.

This chapter is an extended version of \textcite{singleton_booth_tt_2022}, with
new material in \cref{tt_sec_score_based_methods,tt_sec_belief_based_streams}.

\section{Preliminaries}
\label{tt_sec_preliminaries}

In this section we introduce the logical framework, which is largely the same
as in \cref{chapter_belief_change} but with minor differences.

\paragraph{Syntax.}

As before, let $\propvars$ be a finite set of propositional variables. Let $\Lprop$
denote the propositional language generated from $\propvars$. We use $\Lprop$
to model the domain underlying the truth-tracking problem; it describes the
``ontic'' facts of the world, irrespective of the expertise of the sources.
Formulas in $\Lprop$ will be denoted by lower-case Greek letters ($\phi$,
$\psi$, etc).

Let $\srcs$ be a finite set of sources. Here we make an important change to the
setup of \cref{chapter_belief_change}: we do \emph{not} include the special
source $\ast$. Indeed, having access to a completely reliable source of
information would somewhat trivialise the truth-tracking problem.

The language $\L$ extends $\Lprop$ with
expertise and soundness formulas for each source $i \in \srcs$, and is defined
by the following grammar:
\[
    \Phi
    ::= p
    \mid \Phi \land \Phi
    \mid \neg\Phi
    \mid \E_i\phi
    \mid \S_i\phi,
\]
for $i \in \srcs$, $p \in \propvars$ and $\phi \in \Lprop$. Formulas in $\L$
will be denoted by upper-case Greek letters ($\Phi$, $\Psi$ etc). Other logical
connectives ($\lor$, $\limplies$, $\liff$) are introduced as abbreviations.  As
usual, we read $\E_i\phi$ as ``$i$ has expertise on $\phi$'', and $\S_i\phi$ as
``$\phi$ is sound for $i$''. Note that we again restrict the expertise and
soundness formulas to propositional arguments, and do not consider iterated
formulas such as $\E_i\S_j\phi$.

\paragraph{Semantics.}

The semantics are identical to those given in \cref{chapter_belief_change}; we
provide only a brief recap. The set of propositional valuations over
$\propvars$ is denoted by $\vals$. The expertise of a source $i \in \srcs$ is
represented by a partition $\Pi_i$ of $\vals$, which encodes the distinctions
between states the source is able to make. We say $i$ has expertise on $\phi$
iff $i$ can distinguish all $\phi$ states from $\neg\phi$ states, and $\phi$ is
sound for $i$ if the ``actual'' state is indistinguishable from some $\phi$
state. $\css$ is a finite set of cases, thought of as independent
instantiations of the domain of interest. For example, the cases in
\cref{tt_ex_informal_example} are the patients $\patientA{}$ and $\patientB{}$.
We consider the expertise of sources to be fixed across all cases.
%
A \emph{world} is a pair $W = \tuple{\{v_c\}_{c \in \css},
\{\Pi_i\}_{i \in \srcs}}$, where
\begin{itemize}
    \item $v_c \in \vals$ is the ``true'' valuation at case $c \in \css$;
    \item $\Pi_i$ is a partition of $\vals$ representing the
          ``true'' expertise of source $i$.
\end{itemize}

\begin{figure}
    \centering
    \input{chapters/truth-tracking/tikz/world_example.tex}
    \caption{
        Example of a world $W$, which formalises \cref{tt_ex_informal_example}.
        Here $\propvars = \{p, q\}$, $\srcs = \{\dr{}, \tech{}\}$ and $\css =
        \{\patientA{}, \patientB{}\}$.
    }
    \label{tt_fig_example_world}
\end{figure}

Let $\worlds$ denote the set of worlds. Note that $\worlds$ is finite, since
$\vals$, $\css$ and $\srcs$ are.
%
For $\phi \in \Lprop$, write $\propmods{\phi} \subseteq \vals$ for the
models of $\phi$, and write $v \propmodels \phi$ iff $v \in \propmods{\phi}$.
The consequences of a set $\Gamma \subseteq \Lprop$ is denoted by
$\cnprop{\Gamma}$, and we write $\Gamma \propmodels \phi$ if $\phi \in
\cnprop{\Gamma}$.
%
For a partition $\Pi$, let $\Pi[v]$ denote the unique cell in $\Pi$ containing
$v$, and write $\Pi[U] = \bigcup_{v \in U}{\Pi[v]}$ for $U \subseteq
\vals$. For brevity, we write $\Pi[\phi]$ instead of
$\Pi[\propmods{\phi}]$. We evaluate $\L$ formulas with respect to a world $W$
and a case $c$ as follows:
\begin{align*}
    W, c \models p &\iff v_c \propmodels p \\
    W, c \models \E_i\phi &\iff \Pi_i[\phi] = \propmods{\phi} \\
    W, c \models \S_i\phi &\iff v_c \in \Pi_i[\phi]
\end{align*}
where the clauses for conjunction and negation are as standard.

\begin{example}
    \label{tt_ex_semantics}
    Take $W$ from \cref{tt_fig_example_world}, which formalises
    \cref{tt_ex_informal_example}. Then $W, c \models \E_{\dr{}}(p \lor q)$ for
    all $c \in \css$, since $\propmods{p \lor q}$ is a cell in $\Pi_{\dr{}}$.
    We also have $W, \patientA{} \models \neg{p} \land \S_{\dr{}}p$, i.e.
    patient $\patientA{}$ does not suffer from condition $p$, but it is
    consistent with $\dr{}$'s expertise that they do.
\end{example}

We write $W, c \models \Gamma$, for a set of formulas $\Gamma \subseteq \L$, if
$W, c \models \Phi$ for all $\Phi \in \Gamma$. For a set $S \subseteq \worlds$,
we write $S, c \models \Phi$ iff $W, c \models \Phi$ for all $W \in S$.

\paragraph{Reports.}

A \emph{report} is a triple $\tuple{i, c, \phi}$, where $i \in \srcs$, $c \in
\css$ and $\phi \in \Lprop$ with $\phi \not\equiv \falsum$. In most of this
chapter, we interpret such triples as source $i$ reporting that $\phi$ is
\emph{possible} in case $c$ (note that this interpretation was \emph{not} used
in \cref{chapter_belief_change}). An \emph{input sequence} $\sigma$ is a finite
sequence of reports.

A \emph{method} $L$ maps each input sequence $\sigma$ to a set of worlds
$L(\sigma) \subseteq \worlds$, called the \emph{conjecture} of $L$ on $\sigma$.
We say $L$ \emph{implies} $S \subseteq \worlds$ on the basis of $\sigma$ if
$L(\sigma) \subseteq S$. $L$ is \emph{consistent} if $L(\sigma) \ne \emptyset$
for all input sequences $\sigma$.

This is the main point of difference between the framework of the present
chapter and \cref{chapter_belief_change}: here we take a purely semantic view,
by taking the output of a method to be a set of worlds instead of a collection
of formulas. Of course, an operator in the sense of
\cref{chapter_belief_change} defines a method by setting $L(\sigma) =
\operatorname{mod}(B^\sigma)$, and a method defines an operator in the manner
of model-based operators (\cref{kr_def_model_based}). The difference is
therefore in presentation only, and the semantic viewpoint will prove to be
more convenient in what follows.

\section{Truth-Tracking}
\label{tt_sec_truthtracking}

We adapt the framework for truth-tracking
of~\textcite{Baltag_2016,baltag_tt_2019}, which finds its roots in
formal learning theory. In this framework, a learning method receives
increasing initial segments of an infinite sequence -- called a \emph{stream}
-- which enumerates all (and only) the true propositions observable at the
``actual'' world. Truth-tracking requires the method to eventually find
the actual world (or some property thereof), given \emph{any} stream.

As mentioned in the introduction, in our setting we cannot assume the sources
themselves report only true propositions. Instead, our streams will enumerate
all the \emph{sound} reports. Thus, a stream may include false reports, but
such false reports only arise due to lack of expertise of the corresponding
source.\footnotemark{} Moreover, \emph{all} sound reports will eventually
arise. Since $\S_i\phi$ means $\phi$ is possible from the point of view of
$i$'s expertise, we can view a stream as each source sharing \emph{all that
they consider possible} for each case $c \in \css$. In particular, a non-expert
source may report both $\phi$ and $\neg\phi$ for the same case.

\footnotetext{
    Alternatively, we can consider statements of the form ``$\phi$ is sound for
    $i$ in case $c$'' as a higher-order ``proposition''; a stream then enumerates
    all true propositions of this kind.
}

\begin{definition}
    \label{tt_def_stream}
    An infinite sequence of reports $\rho$ is a \emph{stream} for $W$ iff for
    all $i, c, \phi$:
    \[
        \tuple{i, c, \phi} \in \rho \iff W, c \models \S_i\phi.
    \]
\end{definition}

We refer to the left-to-right implication as \emph{soundness} of $\rho$ for
$W$, and the right-to-left direction as \emph{completeness}. Note that every
world $W$ has some stream: the set $\{\tuple{i, c, \phi} \mid W, c \models
\S_i\phi\}$ is countable, so can be indexed by $\N$ to form a stream. For $n
\in \N$ we let $\rho_n$ denote the $n$-th report in $\rho$, and write $\rho[n]$
for the finite initial segment of $\rho$ of length $n$.

\begin{example}
    \label{tt_ex_stream}
    Consider $W$ from \cref{tt_fig_example_world} and case $\patientA{}$. From the
    point of view of $\dr{}$'s expertise, the ``actual'' valuation could be $pq$,
    $\bar{p}q$, $p\bar{q}$. Consequently, in a stream for $W$, $\dr{}$ will
    report $p$, $\neg p$, $q$, $\neg q$, $p \lor q$, and so on. A report that
    $\dr{}$ will \emph{not} give is $\neg (p \lor q)$, since $\dr{}$ has
    expertise to know this is false.

    Note that $v_{\patientA{}}$ and $v_{\patientB{}}$ are indistinguishable to
    $\dr{}$, so the reports of $\dr{}$ in any stream will be the same for both
    cases. In contrast, $\tech{}$ \emph{can} distinguish the two cases, and
    will report $\neg p$ in case $\patientA{}$ but not in $\patientB{}$, and
    $p$ in case $\patientB{}$ but not in $\patientA{}$.
\end{example}

A \emph{question} $Q$ is a partition of $\worlds$. That is, a question is a set
of disjoint \emph{answers} $A \in Q$, with each world $W$ appearing in a unique
cell $Q[W]$ -- the correct answer at $W$.

\begin{example}
    \label{tt_ex_questions}
    We consider some example questions.
    \begin{enumerate}
        \item Any formula $\Phi \in \L$ and case $c$ defines a question
              $Q_{\Phi, c}$, whose two cells consist of the worlds satisfying
              $\Phi$, respectively $\neg\Phi$, in case $c$. Intuitively, this
              question asks whether $\Phi$ is true or false in case $c$.
        \item The finest question $Q_\bot = \{\{W\} \mid W \in \worlds\}$ asks:
              what is the ``actual'' world?
        \item More generally, for any set $X$ and function $f: \worlds \to X$,
              the equivalence relation given by $W \simeq_f W'$ iff $f(W) =
              f(W')$ defines a question $Q_f$.

              In this way any data associated with a world gives rise to a
              question. For example, if $f(W) = \{i \in \srcs \mid \Pi^W_i[p]
              = \propmods{p}\}$ we ask for the set of sources with expertise
              on $p$; if $f(W) = |\{c \in \css \mid W, c \models p\}|$ we
              ask for the number of cases where $p$ holds, etc.

              In fact, all questions are of this form: given $Q$ we may define $f:
              \worlds \to Q$ by $f(W) = Q[W]$; then $Q_f = Q$.
    \end{enumerate}
\end{example}

A method solves $Q$ if it eventually implies the correct answer when given any
stream.

\begin{definition}
    \label{tt_def_solvability}
    A method $L$ \emph{solves} a question $Q$ if for all worlds $W$ and all
    streams $\rho$ for $W$, there is $n \in \N$ such that $L(\rho[m]) \subseteq
    Q[W]$ for all $m \ge n$. A question $Q$ is \emph{solvable} if there is some
    consistent method $L$ which solves $Q$.
\end{definition}

Note that we do not require $W \in L(\rho[m])$.
%
Since we work in a finite framework, solvability can be also expressed
in terms of eliminating incorrect worlds.

\begin{proposition}
    \label{tt_prop_elimination_solving}
    A method $L$ solves $Q$ if and only if for all $W$, all streams $\rho$ for
    $W$, and all $W' \notin Q[W]$, there is $n_{W'} \in \N$ such that $W'
    \notin L(\rho[m])$ for all $m \ge n_{W'}$.
\end{proposition}

\begin{proof}
    ``if'': Taking $n = \max\{n_{W'} \mid W' \notin Q[W]\}$, which exists
    since $\worlds$ is finite, $L(\rho[m]) \subseteq Q[W]$ for $m \ge
    n$.

    ``only if'': Taking $n$ from the definition of $L$ solving $Q$, we may
    simply take $n_{W'} = n$ for all $W' \notin Q[W]$.
\end{proof}

\section{Characterising Solvable Questions}
\label{tt_sec_characterising_solvable_questions}

In this section we explore solvability of questions, finding that there is a
unique ``hardest'' question which subsumes all solvable questions. We show this
is itself solvable, and thus obtain a precise characterisation of solvability.

Questions are partially ordered by partition refinement: $Q \refines Q'$ iff
each $A' \in Q'$ can be written as a union of answers from $Q$. Equivalently,
$Q[W] \subseteq Q'[W]$ for all $W$. This can be interpreted as a
\emph{difficulty ordering}: if $Q \refines Q'$ then each answer of $Q'$ is just
a disjunction of answers of $Q$, and thus $Q'$ is \emph{easier} than $Q$.
Naturally, if $Q$ is solvable then so too is any easier question.

\begin{proposition}
    \label{tt_prop_easier_questions_also_solvable}
    If $Q$ is solvable and $Q \refines Q'$, then $Q'$ is solvable.
\end{proposition}
\begin{proof}
    The method which solves $Q$ also solves $Q'$.
\end{proof}

Since question solving is based on streams of sound reports, worlds satisfying
the same soundness statements cannot be distinguished by any solvable question.
To formalise this, define a preorder $\specleq$ on $\worlds$ by
\[
    W \specleq W'
    \iff
    \forall i, c, \phi:\
        (W, c \models \S_i\phi \implies W', c \models \S_i\phi).
\]
Thus, $W \specleq W'$ iff any report sound for $W$ is also sound for $W'$. We
denote by $\speclt$ and $\speceq$ the strict and symmetric parts of $\specleq$,
respectively.\footnotemark{}

\footnotetext{
    \textcite{Baltag_2016} explore \emph{topological} interpretations of
    solvability by considering the topology on the set of worlds generated by
    observable propositions. In our setting, this is the topology generated by
    sets of the form $\{W \mid W, c \models \S_i\phi\}$. In this topology,
    $\specleq$ is the \emph{specialisation preorder}.
}

\begin{lemma}
    \label{tt_lemma_spec_active_cell}
    $W \specleq W'$ if and only if for all $i \in \srcs$ and $c \in \css$,
    $\Pi^W_i[v^W_c] \subseteq \Pi^{W'}_i[v^{W'}_c]$.
\end{lemma}

\begin{proof}
    ``if'': Suppose $W, c \models \S_i\phi$. Then $v^W_c \in \Pi^W_i[\phi]$, so
    there is $u \in \propmods{\phi}$ such that $v^W_c \in \Pi^W_i[u]$.
    Consequently $u \in \Pi^W_i[v^W_c] \subseteq \Pi^{W'}_i[v^{W'}_c]$, which
    means $v^{W'}_c \in \Pi^{W'}_i[u] \subseteq \Pi^{W'}_i[\phi]$. Hence $W', c
    \models \S_i\phi$. This shows $W \specleq W'$.

    ``only if'': Let $u \in \Pi^W_i[v^W_c]$. Let $\phi$ be any formula with
    $\propmods{\phi} = \{u\}$. Then $W, c \models \S_i\phi$, so $W \specleq W'$
    gives $W', c \models \S_i\phi$, i.e. $v^{W'}_c \in \Pi^{W'}_i[u]$, so $u
    \in \Pi^{W'}_i[v^{W'}_c]$. Hence $\Pi^W_i[v^W_c] \subseteq
    \Pi^{W'}_i[v^{W'}_c]$.
\end{proof}

Note that $\Pi_i[v_c]$ is the set of valuations indistinguishable from the
``actual'' valuation in case $c$, for source $i$. In light of
\cref{tt_lemma_spec_active_cell}, we can interpret $W \specleq W'$ as saying
that all sources are \emph{more knowledgeable} in each case $c$ in world $W$
than in $W'$. However, $W \specleq W'$ does not say anything about the
partition cells not containing some $v_c$. Also note that the condition
in \cref{tt_lemma_spec_active_cell} already appeared in the previous chapter,
where $\Pi^W_i[v^W_v] \subseteq \Pi^{W'}_i[v^{W'}_c]$ for each $i \in \srcs$
was called \emph{refinement at $c$}; this property was used to characterise
selective conditioning operators in
\cref{kr_prop_conditioning_selectivity_characterisation}.

\begin{proposition}
    \label{tt_prop_speceq_equivalent_conditions}
    The following are equivalent.
    \begin{enumerate}
        \item\label{tt_item_same_streams} $W$ and $W'$ have exactly the same
            streams.
        \item\label{tt_item_speceq} $W \speceq W'$.
        \item\label{tt_item_active_cells_equal} For all $i \in \srcs$ and $c \in
            \css$, $\Pi^W_i[v^W_c] = \Pi^{W'}_i[v^{W'}_c]$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    \cref{tt_item_speceq} and \cref{tt_item_active_cells_equal} are easily seen to be
    equivalent in light of \cref{tt_lemma_spec_active_cell}. To show
    \cref{tt_item_same_streams} is equivalent to \cref{tt_item_speceq}, first suppose
    $W$ and $W'$ have the same streams, and suppose $W, c \models \S_i\phi$.
    Taking an arbitrary stream $\rho$ for $W$, completeness gives $\tuple{i, c,
    \phi} \in \rho$. But $\rho$ is a stream for $W'$ too, and soundness gives
    $W', c \models \S_i\phi$. Hence $W \specleq W'$. A symmetrical argument
    shows $W' \specleq W$.

    On the other hand, if $W \speceq W'$ then $W$ and $W'$ satisfy exactly the
    same soundness statements, so it is clear that any sequence $\rho$ is a
    stream for $W$ iff it is a stream for $W'$.
\end{proof}

Since it will play a special role throughout, we denote by $Q^*$ the question
formed by the equivalence relation $\speceq$. Then $Q^*[W]$ is the set of $W'$
with $W \speceq W'$. Since no solvable question can distinguish
$\speceq$-equivalent worlds, we have the following.

\begin{lemma}
    \label{tt_lemma_solvable_implies_coarser_than_qstar}
    If $Q$ is solvable then $Q^* \refines Q$.
\end{lemma}

\begin{proof}
    Suppose $L$ is a consistent method solving $Q$. We show $Q^*[W] \subseteq
    Q[W]$ for all $W$.  Indeed, let $W' \in Q^*[W]$. Then $W' \speceq W$.
    Taking any stream $\rho$ for $W$, there is $n$ such that $L(\rho[m])
    \subseteq Q[W]$ for $m \ge n$. On the other hand $\rho$ is also a stream
    for $W'$ by \cref{tt_prop_speceq_equivalent_conditions}, so there is $n'$ such
    that $L(\rho[m]) \subseteq Q[W']$ for $m \ge n'$. Setting $m = \max\{n,
    n'\}$ and using the fact that $L$ is consistent, we find $\emptyset \subset
    L(\rho[m]) \subseteq Q[W] \cap Q[W']$. Since $Q$ is a partition, this means
    $Q[W] = Q[W']$, i.e. $W' \in Q[W]$.
\end{proof}

So, any solvable question is coarser than $Q^*$. Fortunately, $Q^*$ itself is
solvable since we work in a finite framework. For a sequence $\sigma$, write
$\Xsnd_\sigma$ for the set of worlds $W$ such that $W, c \models \S_i\phi$ for
all $\tuple{i, c, \phi} \in \sigma$. To solve $Q^*$ it suffices to conjecture
the $\specleq$-minimal worlds in $\Xsnd_\sigma$.

\begin{proposition}
    \label{tt_prop_qstar_solvable}
    $Q^*$ is solvable.
\end{proposition}

\begin{proof}
    Set $L(\sigma) = \min_{\specleq}{\Xsnd_\sigma}$ if $\Xsnd_\sigma \ne
    \emptyset$, and $L(\sigma) = \worlds$ otherwise (where $W \in
    \min_{\specleq}{\Xsnd_\sigma}$ iff $W \in \Xsnd_\sigma$ and there is no
    $W' \in \Xsnd_\sigma$ with $W' \speclt W$). Note that $L$ is consistent
    since $\worlds$ is finite and non-empty. We show that $L$ solves $Q^*$ by
    \cref{tt_prop_elimination_solving}. Take any world $W$ and a stream $\rho$.
    First note that, by soundness of $\rho$, $W \in \Xsnd_{\rho[n]}$ for all $n
    \in \N$, so we are always in the first case in the definition of $L$.

    Take $W' \notin Q^*[W]$. Then $W \not\speceq W'$. Consider two cases:
    \begin{itemize}
        \item \textbf{Case 1:} $W \not\specleq W'$. By definition, there are
              $i, c, \phi$ such that $W, c \models \S_i\phi$ but $W', c
              \not\models \S_i\phi$. By completeness of $\rho$ for $W$, there
              is $n$ such that $\rho_n = \tuple{i, c, \phi}$. Consequently $W'
              \notin \Xsnd_{\rho[m]}$ for all $m \ge n$. Since $L(\rho[m])
              \subseteq \Xsnd_{\rho[m]}$, we have $W' \notin L(\rho[m])$ as
              required.

        \item \textbf{Case 2:} $W \speclt W'$. Since $W \in \Xsnd_{\rho[n]}$
              for all $n$, $W'$ can never be $\specleq$-minimal. Thus $W'
              \notin L(\rho[n])$ for all $n$.
    \end{itemize}
    Note that these cases are exhaustive since $W \not\speceq W'$. This
    completes the proof.
\end{proof}

Putting
\cref{tt_prop_easier_questions_also_solvable,tt_lemma_solvable_implies_coarser_than_qstar,tt_prop_qstar_solvable}
together we obtain a characterisation of solvable questions.

\begin{theorem}
    \label{tt_thm_solvability_characterisation}
    $Q$ is solvable if and only if $Q^* \refines Q$.
\end{theorem}

Given this result, $Q^*$ is the only question that really matters: any other
question is either unsolvable or formed by coarsening $Q^*$. With this in mind,
we make the following definition.

\begin{definition}
    \label{tt_def_truthtracking}
    A method is \emph{truth-tracking} if it solves $Q^*$.
\end{definition}

\begin{example}
    \label{tt_ex_questions_revisited}
    We refer back to the questions of \cref{tt_ex_questions}.
    \begin{enumerate}
        \item The question $Q_{\phi, c}$, for any propositional formula $\phi
              \in \Lprop$, is solvable if and only if either $\phi$ is a
              tautology or a contradiction. To see the ``only if'' part,
              consider the contrapositive. For any contingent formula $\phi$,
              take worlds $W_1, W_2$ where no source has any expertise (i.e.
              $\Pi^{W_k}_i = \{\vals\}$) but where $v^{W_1}_c \propmodels
              \phi$, $v^{W_2}_c \propmodels \neg\phi$. Then $W_1 \speceq W_2$
              (e.g. by \cref{tt_prop_speceq_equivalent_conditions}) but $W_1
              \notin Q_{\phi, c}[W_2]$.

              Similarly, $Q_{\E_i\phi, c}$ is solvable iff either $\phi$ is a
              tautology or contradiction, when $|\propvars| \ge 2$.

        \item The finest question $Q_\bot$ is not solvable, since there are
              always distinct $W, W'$ with $W \speceq W'$.

        \item In general, $Q_f$ is solvable iff $W \speceq W'$ implies $f(W) =
            f(W')$, i.e. iff $f$ takes a unique value on each equivalence class
            of $\speceq$.
    \end{enumerate}
\end{example}

\section{What Information can be Learned?}
\label{tt_sec_learning_info}

Solving a question $Q$ has a \emph{global} character: we must find the correct
answer $Q[W]$ starting from \emph{any} world $W$. As we saw in
\cref{tt_ex_questions_revisited}, this rules out the possibility of solving
many interesting questions due to the presence of ``abnormal'' worlds (e.g.
those in which no sources have any expertise). In this section we take a more
fine-grained approach by looking \emph{locally}: given some \emph{particular}
world $W$, what can we learn about $W$ via truth-tracking methods?  Concretely,
what properties of $W$ are uniquely defined across $Q^*[W]$? For instance, in
\cref{tt_ex_informal_example} we took this local perspective and argued that in
the particular world $W$ modelling the medial scenario, it is possible to find
the true value of $q$ for patient $\patientA{}$ but not for $\patientB{}$. The
results and examples of this section will formalise this informal argument.

In general, the extent to which one can learn depends on $W$. If no sources
have expertise then source partitions are uniquely defined (since \emph{all}
consistent formulas are sound, and only the trivial partitions have this
property), but any combination of valuations is possible. On the other hand if
all sources have total expertise then valuations are uniquely defined, but
there may not be enough cases to uniquely identify the source partitions. Of
particular interest is the case where $Q^*[W]$ contains only $W$; starting in
such a world, truth-tracking methods are able to find the true world exactly.

In what follows, say $S \subseteq \worlds$ \emph{decides $\Phi$ in case
$c$} iff either $S, c \models \Phi$ or $S, c \models \neg\Phi$. That is, the
truth value of $\Phi$ in case $c$ is unambiguously defined across $S$. If
$\Phi$ does not depend on the case (e.g. if $\Phi = \E_i\phi$) we simply say
$S$ decides $\Phi$.

\subsection{Valuations}

We start by considering when $Q^*[W]$ decides a propositional formula $\phi$ in
case $c$, i.e. when truth-tracking methods are guaranteed to successfully
determine whether or not $\phi$ holds in the ``actual'' world. This leads to a
precise characterisation of when $Q^*[W]$ contains a \emph{unique} valuation in
case $c$, so that $v^W_c$ can be found exactly.

We need a notion of \emph{group expertise}. For $\srcs' \subseteq \srcs$ and
$\Gamma \subseteq \Lprop$, write $W \models \E_{\srcs'}{\Gamma}$ if for each
$\psi \in \Gamma$ there is $i \in \srcs'$ such that $W \models \E_i\psi$. Then
the group $\srcs'$ have expertise on $\Gamma$ in a collective sense, even if no
single source has expertise on \emph{all} formulas in $\Gamma$.\footnotemark{}
%
We have that $\phi$ is decided if $\srcs$ has group expertise on a set of true
formulas $\Gamma \subseteq \Lprop$ such that either $\Gamma \propmodels \phi$
or $\Gamma \propmodels \neg\phi$.

\footnotetext{
    In contrast to the notions of collective expertise introduced in
    \cref{chapter_expertise}, here we refer to joint expertise on a \emph{set}
    of formulas. If one considers a weaker form of distributed expertise in
    which expertise collections are combined as in
    \cref{exp_sec_collective_expertise} but not closed under intersections
    and unions -- e.g. if sources cannot communicate directly with one another
    -- then $\E_{\srcs'}{\Gamma}$ corresponds to joint expertise on each $\phi
    \in \Gamma$.
}

\begin{theorem}
    \label{tt_thm_decide_phi}
    $Q^*[W]$ decides $\phi \in \Lprop$ in case $c$ if and only if there is
    $\Gamma \subseteq \Lprop$ such that
    \begin{inlinelist}
        \item $W, c \models \Gamma$;
        \item $W \models \E_{\srcs}{\Gamma}$; and
        \item either $\Gamma \propmodels \phi$ or $\Gamma \propmodels
              \neg\phi$.
    \end{inlinelist}
\end{theorem}

$Q^*[W]$ decides \emph{all} propositional formulas -- and thus determines the
$c$-valuation $v^W_c$ exactly -- iff $\srcs$ has group expertise on a
maximally consistent set of true formulas. For $S \subseteq \worlds$ and $c \in
\css$, write $\vals^S_c = \{v^W_c \mid W \in S\}$ for the $c$-valuations
appearing in $S$.

\begin{theorem}
    \label{tt_thm_qstar_unique_cval_conditions}
    The following are equivalent.
    \begin{enumerate}
        \item\label{tt_item_uniqueval} $\vals^{Q^*[W]}_c = \{v^W_c\}$.
        \item\label{tt_item_define_all_phi} $Q^*[W]$ decides $\phi$ in case $c$,
            for all $\phi \in \Lprop$.
        \item\label{tt_item_mcs_gamma} There is $\Gamma \subseteq \Lprop$ such
            that
              \begin{inlinelist}
                  \item $W, c \models \Gamma$;
                  \item $W \models \E_{\srcs}{\Gamma}$; and
                  \item $\cnprop{\Gamma}$ is a maximally consistent set.
              \end{inlinelist}
    \end{enumerate}
\end{theorem}

We illustrate \cref{tt_thm_qstar_unique_cval_conditions} with an example.

\begin{example}
    \label{tt_ex_qstar_unique_cval_conditions}
    Consider $W$ from \cref{tt_fig_example_world}.
    %
    Then one can show $\vals^{Q^*[W]}_{\patientA{}} = \{\bar{p}q\} =
    \{v^W_{\patientA{}}\}$, and $\vals^{Q^*[W]}_{\patientB{}} = \{pq,
    p\bar{q}\} \ne \{v^W_{\patientB{}}\}$. That is, $W$'s $\patientA{}$
    valuation is uniquely determined by truth-tracking methods, but its
    $\patientB{}$ valuation is not: there is some world $W' \speceq W$ whose
    $\patientB{}$-valuation differs from $W$'s. This matches the informal
    reasoning in \cref{tt_ex_informal_example}, in which patient $\patientA{}$
    could be successfully diagnosed on both $p$ and $q$ but $\patientB{}$ could
    not.

    Formally, take $\Gamma = \{p \lor q, \neg p\}$. Then $W, \patientA{}
    \models \Gamma$, $W \models \E_{\srcs}{\Gamma}$ (since $\dr{}$ has
    expertise on $p \lor q$ and $\tech{}$ has expertise on $\neg p$), and
    $\cnprop{\Gamma} = \cnprop{\neg p \land q}$, which is maximally consistent.
    %
    This example shows how the expertise of multiple sources can be combined to
    find valuations uniquely, but that this is not necessarily possible in all
    cases.

\end{example}

The remainder of this section proves
\cref{tt_thm_decide_phi,tt_thm_qstar_unique_cval_conditions}.

\begin{lemma}
    \label{tt_lemma_phi_and_ephi}
    For $W \speceq W'$, $i \in \srcs$ and $\phi \in \Lprop$,
    \[
        W, c \models \phi \land \E_i\phi \implies W', c \models \phi.
    \]
\end{lemma}

\begin{proof}
    From $W, c \models \phi$ we have $v^W_c \in \propmods{\phi}$, so
    $\Pi^W_i[v^W_c] \subseteq \Pi^W_i[\phi]$. But $W, c \models \E_i\phi$ means
    $\Pi^W_i[\phi] = \propmods{\phi}$, so in fact $\Pi^W_i[v^W_c] \subseteq
    \propmods{\phi}$. Now using $W \speceq W'$, we find $v^{W'}_c \in
    \Pi^{W'}_i[v^{W'}_c] = \Pi^W_i[v^W_c] \subseteq \propmods{\phi}$. Hence
    $W', c \models \phi$.
\end{proof}

\begin{lemma}
    \label{tt_lemma_vals_qstar_c}
    $\vals^{Q^*[W]}_c = \bigcap_{i \in \srcs}{\Pi^W_i[v^W_c]}$.
\end{lemma}

\begin{proof}
    ``$\subseteq$'': Suppose $u \in \vals^{Q^*[W]}_c$. Then there is $W' \speceq
    W$ such that $u = v^{W'}_c$. Let $i \in \srcs$. Then $u \in
    \Pi^{W'}_i[v^{W'}_c] = \Pi^W_i[v^W_c]$ by
    \cref{tt_prop_speceq_equivalent_conditions}, as required.

    ``$\supseteq$'': Suppose $u \in \bigcap_{i \in \srcs}{\Pi^W_i[v^W_c]}$. Let
    $W'$ be the world obtained from $W$ by setting the $c$-valuation to $u$,
    keeping partitions and other valuations the same. We need to show $W'
    \speceq W$. We do so via \cref{tt_prop_speceq_equivalent_conditions}, by
    showing condition \cref{tt_item_active_cells_equal}. Take any $i \in
    \srcs$ and $d \in \css$. If $d \ne c$ then $v^{W'}_d = v^W_d$; since
    partitions are the same in $W'$ as in $W$ we get $\Pi^W_i[v^W_d] =
    \Pi^{W'}_i[v^{W'}_d]$. For $c = d$, note $\Pi^{W'}_i[v^{W'}_c] =
    \Pi^W_i[u]$. By assumption $u \in \Pi^W_i[v^W_c]$, so $\Pi^W_i[u] =
    \Pi^W_i[v^W_c]$. Hence $\Pi^{W'}_i[v^{W'}_c] = \Pi^W_i[v^W_c]$ as required.
\end{proof}

\begin{proof}[Proof of \cref{tt_thm_decide_phi}]
    ``if'': Take $W' \in Q^*[W]$. Note that since $W, c \models \Gamma$ and $W,
    c \models \E_\srcs\Gamma$, we may apply \cref{tt_lemma_phi_and_ephi} to each
    formula in $\Gamma$ in turn to find $W', c \models \Gamma$. Now, if $W, c
    \models \phi$ then we must have $\Gamma \propmodels \phi$, so $W', c
    \models \phi$ too. Otherwise $W, c \not\models \phi$, so we must have
    $\Gamma \propmodels \neg\phi$ and $W', c \not\models \phi$. This shows $W',
    c \models \phi$ if and only if $W, c \models \phi$. Since $W' \in Q^*[W]$
    was arbitrary, $Q^*[W]$ decides $\phi$ in case $c$.

    ``only if'': Suppose $Q^*[W]$ decides $\phi$ in case $c$. For each $i \in
    \srcs$, take some $\psi_i \in \Lprop$ such that $\propmods{\psi_i} =
    \Pi^W_i[v^W_c]$. Then $W \models \E_i\psi_i$. Set $\Gamma = \{\psi_i\}_{i
    \in \srcs}$. Clearly $W, c \models \Gamma$ and $W \models \E_\srcs\Gamma$.
    Now, take any $u \in \propmods{\Gamma}$. By \cref{tt_lemma_vals_qstar_c},
    $\propmods{\Gamma} = \bigcap_{i \in \srcs}{\Pi^W_i[v^W_c]} =
    \vals^{Q^*[W]}_c$. Hence there is some $W' \in Q^*[W]$ such that $u =
    v^{W'}_c$. But $Q^*[W]$ decides $\phi$ in case $c$, so $W', c \models \phi$
    iff $W, c \models \phi$. Thus $u \propmodels \phi$ iff $W, c \models \phi$.
    Since $u \in \propmods{\Gamma}$ was arbitrary, we have $\Gamma \propmodels
    \phi$ if $W, c \models \phi$, and $\Gamma \propmodels \neg\phi$ otherwise.
\end{proof}

\begin{proof}[Proof of \cref{tt_thm_qstar_unique_cval_conditions}]
    \cref{tt_item_uniqueval} implies \cref{tt_item_define_all_phi}: If $W' \in
    Q^*[W]$ then $W$ and $W'$ share the same $c$-valuation by
    \cref{tt_item_uniqueval}, so clearly $W, c \models \phi$ iff $W', c \models
    \phi$, for any $\phi$. Hene $Q^*[W]$ decides $\phi$ in case $c$.

    \cref{tt_item_define_all_phi} implies \cref{tt_item_uniqueval}: Clearly $v^W_c
    \in \vals^{Q^*[W]}_c$. Suppose $u \in \vals^{Q^*[W]}_c$. Then there is $W'
    \in Q^*[W]$ such that $u = v^{W'}_c$. Let $p \in \propvars$. Since $W, W'
    \in Q^*[W]$ and $Q^*[W]$ decides $p$ in case $c$, we have $u \propmodels p$
    iff $v^W_c \propmodels p$. Since $p$ was arbitrary, $u = v^W_c$.

    \cref{tt_item_define_all_phi} implies \cref{tt_item_mcs_gamma}: Applying
    \cref{tt_thm_decide_phi} to each $\phi \in \Lprop$, there is a set
    $\Gamma_\phi \subseteq \Lprop$ such that $W, c \models \Gamma_\phi$, $W
    \models \E_\srcs\Gamma_\phi$, and either $\Gamma_\phi \propmodels \phi$ or
    $\Gamma_\phi \propmodels \neg\phi$. Set $\Gamma = \bigcup_{\phi \in
    \Lprop}{\Gamma_\phi}$. Clearly $W, c \models \Gamma$ -- so $\Gamma$ is
    consistent -- and $W \models \E_\srcs\Gamma$. To show $\cnprop{\Gamma}$ is
    \emph{maximally} consistent, suppose $\phi \notin \cnprop{\Gamma}$. From
    monotonicity of classical consequence and $\Gamma_\phi \subseteq \Gamma$,
    we get $\phi \notin \cnprop{\Gamma_\phi}$. Hence $\Gamma_\phi \propmodels
    \neg\phi$, and $\Gamma \propmodels \neg\phi$ too. This means
    $\cnprop{\Gamma} \cup \{\phi\}$ is inconsistent, and we are done.

    \cref{tt_item_mcs_gamma} implies \cref{tt_item_define_all_phi}: Take $\phi \in
    \Lprop$. Then we may apply \cref{tt_thm_decide_phi} with $\Gamma$ from
    \cref{tt_item_mcs_gamma} -- noting that the maximal consistency property
    ensure either $\Gamma \propmodels \phi$ or $\Gamma \models \neg\phi$ -- to
    see that $Q^*[W]$ decides $\phi$ in case $c$.
\end{proof}

\subsection{Source Partitions}

We now apply the analysis of the previous section to the set of source
partitions $\{\Pi^W_i\}_{i \in \srcs}$ in order to determine conditions under
which the true expertise of $i$ can be found by truth-tracking methods.
%
For $S \subseteq \worlds$ and $i \in
\srcs$, write $\parts^S_i = \{\Pi^W_i \mid S \in W\}$ for the $i$-partitions
appearing in $S$. When $S = Q^*[W]$, these are exactly those partitions which
agree with $\Pi^W_i$ at each valuation $v^W_c$.

\begin{lemma}
    \label{tt_lemma_qstar_partitions}
    $\Pi \in \parts^{Q^*[W]}_i$
    if and only if
    $\{\Pi^W_i[v^W_c]\}_{c \in \css} \subseteq \Pi$.
\end{lemma}

\begin{proof}

    ``if'': Suppose $\{\Pi^W_i[v^W_c]\}_{c \in \css} \subseteq \Pi$. Let $W'$ be
    obtained from $W$ by setting $i$'s partition to $\Pi$, keeping valuations
    and other source partitions the same. We claim $W' \speceq W$. Indeed, take
    any $j \in \srcs$ and $c \in \css$. If $j \ne i$ then $\Pi^{W'}_j =
    \Pi^W_i$; since valuations are the same we get $\Pi^W_j[v^W_c] =
    \Pi^{W'}_j[v^{W'}_c]$. For $j = i$, note that since $\Pi^W_i[v^W_c] \in
    \Pi$ by assumption, and $v^W_c \in \Pi^W_i[v^W_c]$, we have $\Pi[v^W_c] =
    \Pi^W_i[v^W_c]$. By construction of $W'$, this means $\Pi^W_i[v^W_c] =
    \Pi[v^{W'}_c] = \Pi^{W'}_i[v^{W'}_c]$. By
    \cref{tt_prop_speceq_equivalent_conditions},
    $W' \speceq W$. Hence $\Pi \in \parts^{Q^*[W]}_i$.

    ``only if'': This is clear from \cref{tt_prop_speceq_equivalent_conditions}.
\end{proof}

\begin{figure}
    \centering
    \input{chapters/truth-tracking/tikz/partition_example.tex}
    \caption{
        World $W$ from \cref{tt_ex_qstar_partitions}. Valuations are unlabelled
        for brevity.
    }
    \label{tt_fig_qstar_partitions}
\end{figure}

\begin{example}
    \label{tt_ex_qstar_partitions}
    Suppose $|\propvars| = 3$, $\css = \{c_1, c_2\}$ and $i \in \srcs$.
    Consider a world $W$ whose $i$-partition is shown in
    \cref{tt_fig_qstar_partitions}. By \cref{tt_lemma_qstar_partitions}, a partition
    $\Pi$ appears as $\Pi^{W'}_i$ for some $W' \speceq W$ if and only if it
    contains the leftmost and bottommost sets. Any such $\Pi$ consists
    of these cells together with a partition of the shaded area. Since there
    are 5 possible partitions of a 3-element set, it follows that
    $|\parts^{Q^*[W]}_i| = 5$.
\end{example}

\cref{tt_ex_qstar_partitions} hints that if the cells containing the valuations
$v^W_c$ cover the whole space of valuations $\vals$, or just omit a single
valuation, then $i$'s partition is uniquely defined in $Q^*[W]$. That is,
truth-tracking methods can determine the full extent of $i$'s expertise if the
``actual'' world is $W$. Indeed, we have the following analogue of
\cref{tt_thm_qstar_unique_cval_conditions} for partitions.

\begin{theorem}
    \label{tt_thm_qstar_unique_ipartition_conditions}
    The following are equivalent.
    \begin{enumerate}
        \item\label{tt_item_uniquepart} $\parts^{Q^*[W]}_i = \{\Pi^W_i\}$.
        \item\label{tt_item_define_all_ephi} $Q^*[W]$ decides $\E_i\phi$ for all
            $\phi \in \Lprop$.
        \item\label{tt_item_r_almost_covers} $|\vals \setminus R| \le 1$, where $R
            = \bigcup_{c \in \css}{\Pi^W_i[v^W_c]}$.
    \end{enumerate}
\end{theorem}

Note that $R = \bigcup_{c \in \css}{\Pi^W_i[v^W_c]}$ is the set of valuations
indistinguishable from the actual state at some case $c$.
\cref{tt_thm_qstar_unique_ipartition_conditions} \cref{tt_item_r_almost_covers} says
this set needs to essentially cover the whole space $\vals$, omitting at most a
single point. In this sense, it is easier to find $\Pi^W_i$ uniquely when $i$
has \emph{less expertise}, since the cells $\Pi^W_i[v^W_c]$ will be larger. In
the extreme case where $i$ has total expertise, i.e. $\Pi^W_i = \{\{v\} \mid v
\in \vals\}$, we need at least $2^{|\propvars|} - 1$ cases with distinct
valuations in order to find $\Pi^W_i$ exactly.

\begin{example}
    \label{tt_ex_qstar_unique_ipartition_conditions}
    In \cref{tt_ex_qstar_partitions} we have already seen an example of a world
    $W$ for which $\parts^{Q^*[W]}_i$ does not contain a unique partition.
    %
    For a positive example, consider the world $W$ from
    \cref{tt_fig_example_world}. Then $\vals \setminus R_{\dr{}} =
    \{\bar{p}\bar{q}\}$ and $\vals \setminus R_{\tech{}} = \emptyset$, so both
    the partitions of $\dr{}$ and $\tech{}$ can be found uniquely by
    truth-tracking methods.
\end{example}

The remainder of this section proves
\cref{tt_thm_qstar_unique_ipartition_conditions}.

\begin{lemma}
    \label{tt_lemma_u_expansion_equal}
    Let $i \in \srcs$ and $U \subseteq \vals$. Then $U \subseteq \bigcup_{c \in
    \css}{\Pi^W_i[v^W_c]}$ and $W \speceq W'$ implies $\Pi^W_i[U] =
    \Pi^{W'}_i[U]$.
\end{lemma}

\begin{proof}
    It suffices to show that for all $u \in U$ we have $\Pi^W_i[u] =
    \Pi^{W'}_i[u]$, since by definition $\Pi[U] = \bigcup_{u \in U}{\Pi[u]}$.
    Let $u \in U$. Then there is $c \in \css$ such that $u \in \Pi^W_i[v^W_c]$.
    Hence $\Pi^W_i[u] = \Pi^W_i[v^W_c]$. But since $W \speceq W'$,
    $\Pi^W_i[v^W_c] = \Pi^{W'}_i[v^{W'}_c]$. This means $u \in
    \Pi^{W'}_i[v^{W'}_c]$, so $\Pi^{W'}_i[u] = \Pi^{W'}_i[v^{W'}_c] =
    \Pi^W_i[v^W_c] = \Pi^W_i[u]$, as required,
\end{proof}

\begin{lemma}
    \label{tt_lemma_decide_ephi}
    $Q^*[W]$ decides $\E_i\phi$ if and only if, writing $R = \bigcup_{c \in
    \css}{\Pi^W_i[v^W_c]}$, either
    \begin{inlinelist}
        \item\label{tt_item_phi_sub_r} $\propmods{\phi} \subseteq R$;
        \item\label{tt_item_negphi_sub_r} $\propmods{\neg\phi} \subseteq R$; or
        \item\label{tt_item_r_boundary} there is some $c \in \css$ such that
            $\Pi^W_i[v^W_c]$ intersects with both $\propmods{\phi}$ and
            $\propmods{\neg\phi}$.
    \end{inlinelist}
\end{lemma}

\begin{proof}

    ``if'': First suppose \cref{tt_item_phi_sub_r} holds. Take $W' \in Q^*[W]$.
    From $\propmods{\phi} \subseteq R$, $W \speceq W'$ and
    \cref{tt_lemma_u_expansion_equal} we get $\Pi^W_i[\phi] = \Pi^{W'}_i[\phi]$.
    Consequently, $W' \models \E_i\phi$ iff $W \models \E_i\phi$. Since $W'$
    was arbitrary, either all worlds in $Q^*[W]$ satisfy $\E_i\phi$, or all do
    not. Hence $Q^*[W]$ decides $\E_i\phi$.

    If \cref{tt_item_negphi_sub_r} holds, a similar argument shows that $Q^*[W]$
    decides $\E_i\neg\phi$. But it is easily checked that $\E_i\phi \equiv
    \E_i\neg\phi$, so $Q^*[W]$ also decides $\E_i\phi$.

    Finally, suppose \cref{tt_item_r_boundary} holds. Then there is $c \in \css$
    and $u \in \propmods{\phi}$, $v \in \propmods{\neg\phi}$ such that $u, v
    \in \Pi^W_i[v^W_c]$. We claim $Q^*[W] \models \neg\E_i\phi$. Indeed, take
    $W' \in Q^*[W]$. Then $\Pi^W_i[v^W_c] = \Pi^{W'}_i[v^{W'}_c]$, so $u, v \in
    \Pi^{W'}_i[v^{W'}_c]$. In particular, $u$ and $v$ differ on $\phi$ but are
    contained in the same cell in $\Pi^{W'}_i$. Hence $W' \models
    \neg\E_i\phi$.

    ``only if'': We show the contrapositive. Suppose none of
    \cref{tt_item_phi_sub_r}, \cref{tt_item_negphi_sub_r}, \cref{tt_item_r_boundary}
    hold. Then there is $u \in \propmods{\phi} \setminus R$ and $v \in
    \propmods{\neg\phi} \setminus R$. Let us define two worlds $W_1$, $W_2$
    from $W$ by modifying $i$'s partition:
    \begin{align*}
        \Pi^{W_1}_i
            &= \{\Pi^W_i[v^W_c]\}_{c \in \css} \cup \{\vals \setminus R \}, \\
        \Pi^{W_2}_i
            &= \{\Pi^W_i[v^W_c]\}_{c \in \css} \cup \{\{w\} \mid w \in \vals
                    \setminus R\}.
    \end{align*}
    Then $W_1, W_2 \in Q^*[W]$ by \cref{tt_lemma_qstar_partitions}. We claim that
    $W_1 \models \neg\E_i\phi$ but $W_2 \models \E_i\phi$, which will show
    $Q^*[W]$ does not decide $\E_i\phi$.

    First, note that since $u, v \notin R$, we have $\Pi^{W_1}_i[u] =
    \Pi^{W_1}_i[v] = \vals \setminus R$. Since $u$ and $v$ differ on $\phi$ but
    share the same partition cell, $W_1 \models \neg\E_i\phi$.

    To show $W_2 \models \E_i\phi$, take $w \in \propmods{\phi}$. If $w \notin
    R$ then $\Pi^{W_2}_i[w] = \{w\} \subseteq \propmods{\phi}$. Otherwise there
    is $c \in \css$ such that $w \in \Pi^W_i[v^W_c]$. Thus $\Pi^W_i[v^W_c]$
    intersects with $\propmods{\phi}$. Since \cref{tt_item_r_boundary} does not
    hold, this in fact implies $\Pi^W_i[v^W_c] \subseteq \propmods{\phi}$, and
    consequently $\Pi^{W_2}_i[w] = \Pi^W_i[v^W_c] \subseteq \propmods{\phi}$.
    Since $w \in \propmods{\phi}$ was arbitrary, we have shown
    $\Pi^{W_2}_i[\phi] = \bigcup_{w \in \propmods{\phi}}{\Pi^{W_2}_i[w]}
    \subseteq \propmods{\phi}$. Since the reverse inclusion always holds, this
    shows $W_2 \models \E_i\phi$, and we are done.
\end{proof}

\begin{proof}[Proof of \cref{tt_thm_qstar_unique_ipartition_conditions}]

    The implication \cref{tt_item_uniquepart} to \cref{tt_item_define_all_ephi} is
    clear since if $W' \in Q^*[W]$ then $\Pi^{W'}_i = \Pi^W_i$ by
    \cref{tt_item_uniquepart}, so $W' \models \E_i\phi$ iff $W \models \E_i\phi$,
    and thus $Q^*[W]$ decides $\E_i\phi$.

    To show \cref{tt_item_define_all_ephi} implies \cref{tt_item_r_almost_covers} we
    show the contrapositive. Suppose $|\vals \setminus R| > 1$. Then there are
    distinct $u, v \in \vals \setminus R$. Let $\phi$ be any propositional
    formula with $\propmods{\phi} = \{u\}$. We show by \cref{tt_lemma_decide_ephi}
    that $Q^*[W]$ does not decide $\E_i\phi$. Indeed, all three conditions
    fail: $\propmods{\phi} \not\subseteq R$ (since $u \notin R$),
    $\propmods{\neg\phi} \not\subseteq R$ (since $v \in \propmods{\neg\phi}
    \setminus R$) and no $\Pi^W_i[v^W_c]$ intersects with $\propmods{\phi}$
    (otherwise $u \in \Pi^W_i[v^W_c] \subseteq R$).

    Finally, for \cref{tt_item_r_almost_covers} implies \cref{tt_item_uniquepart} we
    also show the contrapositive. Suppose there is $\Pi \in \parts^{Q^*[W]}_i
    \setminus \{\Pi^W_i\}$. Write $\mathcal{R} = \{\Pi^W_i[v^W_c]\}_{c \in
    \css}$, so that $\mathcal{R}$ is a partition of $R$. By
    \cref{tt_lemma_qstar_partitions}, $\mathcal{R} \subseteq \Pi$. Note that
    $\mathcal{R} \subseteq \Pi^W_i$ too. Since $\Pi \ne \Pi^W_i$, we in fact
    have $\mathcal{R} \subset \Pi$ and $\mathcal{R} \subset \Pi^W_i$. Hence
    $\Pi \setminus \mathcal{R}$ and $\Pi^W_i \setminus \mathcal{R}$ are
    distinct partitions of $\vals \setminus R$. Since a one-element set has a
    unique partition, $\vals \setminus R$ must contain at least two elements.
\end{proof}

\subsection{Learning the Actual World Exactly}

Putting
\cref{tt_thm_qstar_unique_cval_conditions,tt_thm_qstar_unique_ipartition_conditions},
we obtain a precise characterisation of when $W$ can be found \emph{exactly} by
truth-tracking methods, i.e when $Q^*[W] = \{W\}$.

\begin{corollary}
    \label{tt_cor_qstar_unique_world}
    $Q^*[W] = \{W\}$ if and only if
    \begin{enumerate}
        \item There is a collection $\{\Gamma_c\}_{c \in \css} \subseteq
              \Lprop^\css$ such that for each $c$,
              \begin{inlinelist}
                \item $W, c \models \Gamma_c$;
                \item $W \models \E_{\srcs}{\Gamma_c}$;
                \item $\cnprop{\Gamma_c}$ is maximally consistent; and
              \end{inlinelist}
        \item For each each $i \in \srcs$, $|\vals \setminus \bigcup_{c \in
            \css}{\Pi^W_i[v^W_c]}| \le 1$.
    \end{enumerate}
\end{corollary}

\section{Truth-Tracking Methods}
\label{tt_sec_methods}

So far we have focussed on solvable questions, and the extent to which they
reveal information about the actual world. We now turn to the methods which
solve them. We give a general characterisation of truth-tracking methods under
mild assumptions, before discussing the family of conditioning and score-based
methods from \cref{chapter_belief_change}.

\subsection{A General Characterisation}

For sequences $\sigma, \delta$, write $\sigma \equiv \delta$ iff $\delta$ is
obtained from $\sigma$ by replacing each report $\tuple{i, c, \phi}$ with
$\tuple{i, c, \psi}$, for some $\psi \equiv \phi$. For $k \in \N$, let
$\sigma^k$ denote the $k$-fold repetition of $\sigma$.
%
Consider the following properties which may hold of a learning method $L$.

\begin{axiomlist}
\begin{axiom}[\equivalence{}]
    If $\sigma \equiv \delta$ then $L(\sigma) = L(\delta)$.
\end{axiom}
\begin{axiom}[\repetition{}]
    $L(\sigma^k) = L(\sigma)$.
\end{axiom}
\begin{axiom}[\soundness{}]
    $L(\sigma) \subseteq \Xsnd_\sigma$.
\end{axiom}
\end{axiomlist}

\equivalence{} says that $L$ should not care about the syntactic form of the
input. \repetition{} says that the output from $L$ should not change if each
source repeats their reports $k$ times. \soundness{} says that all reports in
$\sigma$ are conjectured to be sound, and is the analogue of the same postulate
in \cref{chapter_belief_change}.

For methods satisfying these properties, we have a precise characterisation of
truth-tracking, i.e. necessary and sufficient conditions for $L$ to solve
$Q^*$. First, some new notation is required. Write $\delta \seqss \sigma$ iff
for each $\tuple{i, c, \phi} \in \delta$ there is $\psi \equiv \phi$ such that
$\tuple{i, c, \psi} \in \sigma$. That is, $\sigma$ contains everything in
$\delta$, up to logical equivalence. Set
\[
    T_\sigma
    = \Xsnd_\sigma
        \setminus
        \bigcup\left\{
            \Xsnd_\delta
            \mid
            \delta \not\seqss \sigma\right
        \}
    \subseteq \worlds.
\]
Then $W \in T_\sigma$ iff $\sigma$ is sound for $W$ and any $\delta$ sound for
$W$ has $\delta \seqss \sigma$. In this sense $\sigma$ contains \emph{all}
soundness statements for $W$ -- up to equivalence -- so can be seen as a finite
version of a stream. Let us call $\sigma$ a \emph{pseudo-stream} for $W$
whenever $W \in T_\sigma$.
%
The truth-tracking characterisation uses the following postulate.

\begin{axiom}[\credulity{}]
    If $T_\sigma, c \not\models \S_i\phi$
    then
    $L(\sigma), c \models \neg\S_i\phi$.
\end{axiom}

\begin{theorem}
    \label{tt_thm_tt_characterisation}
    A method $L$ satisfying \equivalence{}, \repetition{} and \soundness{} is
    truth-tracking if and only if it satisfies \credulity{}.

\end{theorem}

Before the proof, we comment on our interpretation of
\credulity{}. It says that whenever $\neg\S_i\phi$
is consistent with $T_\sigma$ -- those $W$ for which $\sigma$ is a
pseudo-stream -- $L(\sigma)$ should imply $\neg\S_i\phi$. Since the number of
sound statements \emph{decreases} with increasing expertise, this is a
principle of \emph{maximal trust}: we should believe $i$ has the expertise to
rule out $\phi$ in case $c$, whenever this is consistent with $T_\sigma$.  That
is, some amount of \emph{credulity} is required to find the truth. Our
assumption that learning methods receive complete streams ensures that, if a
source in fact lacks this expertise, they will eventually report $\phi$ and
this belief can be be retracted.
%
A stronger version of \credulity{} spells this out
explicitly in terms of expertise:
\begin{equation}
    \label{tt_eqn_stronger_tt_property}
    \text{If }
    T_\sigma, c \not\models \neg\E_i\phi
    \text{ then }
    L(\sigma), c \models \E_i\phi.
\end{equation}
We show below that \cref{tt_eqn_stronger_tt_property} implies \credulity{} in
the presence of \soundness{}, and is thus a sufficient condition for
truth-tracking (when also taken with \equivalence{} and
\repetition{}).\footnotemark{}

\footnotetext{
    We conjecture \cref{tt_eqn_stronger_tt_property} is strictly stronger than
    \credulity{}.
}

\cref{tt_thm_tt_characterisation} also shows truth-tracking cannot be performed
\emph{deductively}: the method $L(\sigma) = \Xsnd_\sigma$ -- which does not go
beyond the mere information that each report is sound, and corresponds to the
weak model-based operator from \cref{kr_def_weakop} -- fails
\credulity{}.\footnotemark{}
Some amount of or \emph{non-monotonic} reasoning, as captured by
\credulity{}, is necessary.

\footnotetext{
    Indeed, consider the world $W$ such that $\Pi^W_i$ is the one-cell
    partition $\{\vals\}$ for all sources $i$. Then $W \in \Xsnd_\sigma$ for
    any $\sigma$, since all reports are sound when sources have expertise only
    on tautologies. Consequently $\S_i\phi$ is always consistent with
    $\Xsnd_\sigma$, so we can never have $\Xsnd_\sigma, c \models
    \neg\S_i\phi$. To show \credulity{} fails, it suffices to take any $W'$
    such that $W', c \not\models \S_i\phi$ for some $i, c, \phi$, and to
    take $\sigma$ such that $W' \in T_\sigma$.
}

The rest of this section works towards the proof of
\cref{tt_thm_tt_characterisation}. We collect some useful properties of
pseudo-streams. First, pseudo-streams provide a way of accessing $Q^*$ via a
finite sequence: $T_\sigma$ is a cell in $Q^*$ whenever it is non-empty.

\begin{lemma}
    \label{tt_lemma_tsigma_qstar}
    If $W \in T_\sigma$, then
    \begin{inlinelist}
        \item\label{tt_item_ps_upperset} $W' \in \Xsnd_\sigma$ iff $W \specleq
            W'$; and
        \item\label{tt_item_tsigma_qstar} $T_\sigma = Q^*[W]$.
    \end{inlinelist}
\end{lemma}

\begin{proof}

    Suppose $W \in T_\sigma$. For \cref{tt_item_ps_upperset}, first suppose $W'
    \in \Xsnd_\sigma$ and $W, c \models \S_i\phi$.  Considering the singleton
    sequence $\delta = \tuple{i, c, \phi}$ we have $W \in \Xsnd_\delta$. From
    $W \in T_\sigma$ we get $\delta \seqss \sigma$, i.e. there is $\psi \equiv
    \phi$ such that $\tuple{i, c, \psi} \in \sigma$. From $W' \in \Xsnd_\sigma$
    and $\S_i\phi \equiv \S_i\psi$ we get $W', c \models \S_i\phi$.  This shows
    $W \specleq W'$.

    Now suppose $W \specleq W'$ and let $\tuple{i, c, \phi} \in \sigma$. Then
    since $W \in T_\sigma \subseteq \Xsnd_\sigma$ we have $W, c \models
    \S_i\phi$, and $W \specleq W'$ gives $W', c \models \S_i\phi$. Consequently
    $W' \in \Xsnd_\sigma$.

    Now for \cref{tt_item_tsigma_qstar}, first suppose $W' \in Q^*[W]$. Then $W$
    and $W'$ satisfy exactly the same soundness statements, so $W' \in
    T_\sigma$ also.
    %
    Conversely, suppose $W' \in T_\sigma$. Then $W' \in \Xsnd_\sigma$, so
    \cref{tt_item_ps_upperset} gives $W \specleq W'$.  But we also have $W' \in
    T_\sigma$ and $W \in \Xsnd_\sigma$, so \cref{tt_item_ps_upperset} again gives
    $W' \specleq W$. Hence $W \speceq W'$, i.e. $W' \in Q^*[W]$.
\end{proof}

We can now show that property \cref{tt_eqn_stronger_tt_property} implies
\credulity{} together with \soundness{}.

\begin{proposition}
    Suppose $L$ satisfies \soundness{} and property
    \cref{tt_eqn_stronger_tt_property}. Then $L$ satisfies \credulity{}.
\end{proposition}

\begin{proof}
    Suppose $T_\sigma, c \not\models \S_i\phi$. By assumption, there is some $W
    \in T_\sigma$ such that $W, c \not\models \S_i\phi$. Take some $W' \in
    L(\sigma)$. We need to show that $W', c \not\models \S_i\phi$.

    Now, from $W, c \not\models \S_i\phi$ we get $\Pi^W_i[v^W_c] \cap
    \propmods{\phi} = \emptyset$. Taking $\psi$ such that $\propmods{\psi} =
    \Pi^W_i[v^W_c]$, we have $\propmods{\psi} \cap \propmods{\phi} = \emptyset$
    and $W, c \models \E_i\psi$. Thus $T_\sigma, c \not\models \neg\E_i\psi$,
    so property \cref{tt_eqn_stronger_tt_property} gives $L(\sigma), c \models
    \E_i\psi$. Since $W' \in L(\sigma)$, we get $W', c \models \E_i\psi$, i.e.
    $\Pi^{W'}_i[\psi] = \propmods{\psi}$.

    On the other hand, from \soundness{} we have $L(\sigma) \subseteq
    \Xsnd_\sigma$, so $W' \in \Xsnd_\sigma$. Since $W \in T_\sigma$,
    \cref{tt_lemma_tsigma_qstar} gives $W \specleq W'$, and so $\propmods{\psi}
    = \Pi^W_i[v^W_c] \subseteq \Pi^{W'}_i[v^{W'}_c]$ by
    \cref{tt_lemma_spec_active_cell}. Now since $\propmods{\psi}$ is a subset
    of the cell $\Pi^{W'}_i[v^{W'}_c]$, its expansion under $\Pi^{W'}_i$ is
    equal to this cell, i.e. $\Pi^{W'}_i[\psi] = \Pi^{W'}_i[v^{W'}_c]$. But we
    showed above that $\Pi^{W'}_i[\psi] = \propmods{\psi}$. Hence
    $\Pi^{W'}_i[v^{W'}_c] = \propmods{\psi}$. In particular,
    $\Pi^{W'}_i[v^{W'}_c] \cap \propmods{\phi} = \emptyset$, and $W', c
    \not\models \S_i\phi$ as required.
\end{proof}

The next two results show that initial segments of streams are (eventually)
pseudo-streams, and that any pseudo-stream gives rise to a stream.

\begin{lemma}
    \label{tt_lemma_stream_to_pseudostream}
    If $\rho$ is a stream for $W$, there is $n$ such that $W \in T_{\rho[m]}$
    for all $m \ge n$.
\end{lemma}

\begin{proof}

    Let $\repr{\cdot}$ be a function which selects a representative formula for
    each equivalence class of $\Lprop / {\equiv}$, so that $\phi \equiv
    \repr{\phi}$ and $\phi \equiv \psi$ implies $\repr{\phi}$ is equal to
    $\repr{\psi}$. Note that since $\propvars$ is finite, and since $\srcs$ and
    $\css$ are also finite, there are only finitely many reports of the form
    $\tuple{i, c, \repr{\phi}}$. By completeness of $\rho$ for $W$, we may take
    $n$ sufficiently large so that $W, c \models \S_i{\repr{\phi}}$ implies
    $\tuple{i, c, \repr{\phi}} \in \rho[n]$, for all $i, c, \phi$.
    %
    Now, take $m \ge n$. We need to show $W \in T_{\rho[m]}$. Clearly $W \in
    \Xsnd_{\rho[m]}$, since $\rho$ is sound for $W$. Suppose $W \in
    \Xsnd_\delta$. We need to show $\delta \seqss \rho[m]$. Indeed, take
    $\tuple{i, c, \phi} \in \delta$. Then $W, c \models \S_i\phi$. Since
    $\S_i\phi \equiv \S_i{\repr{\phi}}$, we have $W, c \models
    \S_i{\repr{\phi}}$. Hence $\tuple{i, c, \repr{\phi}}$ appears in $\rho[n]$,
    and consequently in $\rho[m]$ too. Since $\phi \equiv \repr{\phi}$, this
    shows $\delta \seqss \rho[m]$.
\end{proof}

\begin{lemma}
    \label{tt_lemma_pseudostream_to_stream}
    If $W \in T_\sigma$ and $N = |\sigma|$, there is a stream $\rho$ for $W$
    such that $\rho[Nk] \equiv \sigma^k$ for all $k \in \N$.
\end{lemma}

\begin{proof}

    First note that $W \in T_\sigma$ implies $\sigma \ne \emptyset$, so $N >
    0$. Since $\Lprop$ is countable, we may index the set of $\Lprop$ formulas
    equivalent to $\phi \in \Lprop$ as $\{\phi_n\}_{n \in \N}$. Let $\sigma_n$
    be obtained from $\sigma$ by replacing each report $\tuple{i, c, \phi}$
    with $\tuple{i, c, \phi_n}$. Then $\sigma \equiv \sigma_n$.
    %
    Let $\rho$ be the sequence obtained as the infinite concatenation $\sigma_1
    \seqappend \sigma_2 \seqappend \sigma_3 \seqappend \cdots$ (this is
    possible since $\sigma$ is of positive finite length). Then $\rho[Nk] =
    \sigma_1 \seqappend \cdots \seqappend \sigma_k$, and consequently $\rho[Nk]
    \equiv \sigma^k$.

    It remains to show $\rho$ is a stream for $W$. Soundness of $\rho$ follows
    from $W \in T_\sigma \subseteq \Xsnd_\sigma$, since every report in $\rho$
    is equivalent to some report in $\sigma$ by construction. For completeness,
    suppose $W, c \models \S_i\phi$. As in the proof of
    \cref{tt_lemma_tsigma_qstar}, considering the singleton sequence $\delta =
    \tuple{i, c, \phi}$, we get from $W \in T_\sigma$ that there is $\psi
    \equiv \phi$ such that $\tuple{i, c, \psi} \in \sigma$. Hence there is $n
    \in \N$ such that $\phi = \psi_n$, so $\tuple{i, c, \phi} \in \sigma_n$,
    and thus $\tuple{i, c, \phi} \in \rho$.
\end{proof}

Next we obtain an equivalent formulation of
\credulity{} which is less transparent as a
postulate for learning methods, but easier to work with.

\begin{lemma}
    \label{tt_lemma_equivalent_tt_property}
    Suppose $L$ satisfies \soundness{}. Then $L$ satisfies
    \credulity{} if and only if $L(\sigma) \subseteq
    T_\sigma$ for all $\sigma$ with $T_\sigma \ne \emptyset$.
\end{lemma}

\begin{proof}

    ``if'': Suppose $T_\sigma, c \not\models \S_i\phi$. Then there is $W \in
    T_\sigma$ such that $W, c \not\models \S_i\phi$. By our assumption and
    \cref{tt_lemma_tsigma_qstar}, $L(\sigma) \subseteq T_\sigma = Q^*[W]$. Thus
    every world in $L(\sigma)$ agrees with $W$ on soundness statements, so
    $L(\sigma), c \models \neg\S_i\phi$.

    ``only if'': Suppose there is some $W \in T_\sigma$, and take $W' \in
    L(\sigma)$. We need to show $W' \in T_\sigma$; by
    \cref{tt_lemma_tsigma_qstar}, this is equivalent to $W \speceq W'$.
    %
    First suppose $W, c \models \S_i\phi$. Then $W \in T_\sigma$ implies there
    is $\psi \equiv \phi$ such that $\tuple{i, c, \psi} \in \sigma$. By
    \soundness{} for $L$, we have $W' \in L(\sigma) \subseteq \Xsnd_\sigma$.
    Consequently $W', c \models \S_i\psi$ and thus $W', c \models \S_i\phi$.
    This shows $W \specleq W'$.
    %
    Now suppose $W, c \not\models \S_i\phi$. Then $T_\sigma, c \not\models
    \S_i\phi$. By \credulity{}, $L(\sigma), c
    \models \neg\S_i\phi$. Hence $W', c \not\models \S_i\phi$. This shows $W'
    \specleq W$. Thus $W \speceq W'$ as required.
\end{proof}

Finally, we prove the characterisation of truth-tracking.

\begin{proof}[Proof of \cref{tt_thm_tt_characterisation}]
    Suppose $L$ satisfies \equivalence{}, \repetition{} and \soundness{}.

    ``if'': Suppose \credulity{} holds. We show $L$
    solves $Q^*$. Take any world $W$ and stream $\rho$ for $W$.  By
    \cref{tt_lemma_stream_to_pseudostream}, there is $n$ such that $W \in
    T_{\rho[m]}$ for all $m \ge n$. By \cref{tt_lemma_tsigma_qstar}, $T_{\rho[m]}
    = Q^*[W]$ for such $m$. In particular, $T_{\rho[m]} \ne \emptyset$.  By
    \credulity{} and
    \cref{tt_lemma_equivalent_tt_property}, we get $L(\rho[m]) \subseteq
    T_{\rho[m]} = Q^*[W]$.

    ``only if'': Suppose $L$ solves $Q^*$. We show
    \credulity{} via
    \cref{tt_lemma_equivalent_tt_property}. Suppose there is some $W \in
    T_\sigma$, and write $N = |\sigma| > 0$. By
    \cref{tt_lemma_pseudostream_to_stream}, there is a stream $\rho$ for $W$ such
    that $\rho[Nk] \equiv \sigma^k$ for all $k \in \N$. By \repetition{} and
    \equivalence{}, $L(\sigma) = L(\sigma^k) = L(\rho[Nk])$. But $L$ solves
    $Q^*$, so for $k$ sufficiently large we have $L(\rho[Nk]) \subseteq Q^*[W]
    = T_\sigma$. Hence, going via some large $k$, we obtain $L(\sigma)
    \subseteq T_\sigma$ as required.
\end{proof}

\subsection{Conditioning Methods}
\label{tt_sec_conditioning_methods}

In this section we turn to the family of \emph{conditioning} methods from
\cref{kr_sec_conditioning_operators}.
% and inspired by similar methods in the belief change
% literature~\cite{spohn1988ordinal}.  These methods were originally proposed
% in relation to \emph{rationality postulates} for a belief change problem with
% non-expert sources. By studying them in relation to truth-tracking, we will
% see that rationality is compatible with truth-tracking.
While the interpretation of input sequences is different when considering sound
and complete streams -- we read $\tuple{i, c, \phi}$ as $i$ reporting $\phi$ is
\emph{possible} in case $c$, whereas no such fixed interpretation was in place
before -- this class of methods can still be applied.  Moreover, while
conditioning methods were put forward in \cref{kr_sec_conditioning_operators}
in order to satisfy rationality postulates, we will soon see that they are also
compatible with truth-tracking.

Conditioning methods operate by successively restricting a fixed
\emph{plausibility total preorder} to the information corresponding to each
new report $\tuple{i, c, \phi}$. In this section, we take a report $\tuple{i, c,
\phi}$ to correspond to the information that $\S_i\phi$ holds in case $c$; this
fits with our assumption throughout that sources only report sound
statements.\footnotemark{}
%
Thus, the worlds under
consideration given a sequence $\sigma$ are exactly those satisfying all
soundness statements in $\sigma$, i.e. $\Xsnd_\sigma$. Note that $\Xsnd_\sigma$
represents the \emph{indefeasible knowledge} given by $\sigma$: worlds outside
$\Xsnd_\sigma$ are eliminated and cannot be recovered with further reports,
since $\Xsnd_{\sigma \seqappend \delta} \subseteq \Xsnd_\sigma$. The
plausibility order allows us to represent \emph{defeasible beliefs} about the
most plausible worlds within $\Xsnd_\sigma$.

\footnotetext{
    This is more restrictive than in the previous chapter, where the knowledge
    component of an operator enjoyed more freedom. Our assumption here is
    equivalent to fixing $K^\sigma = \operatorname{Cn}(G^\sigma_\snd)$.
}

\begin{definition}
    \label{tt_def_conditioning_method}
    For a total preorder $\le$ on $\worlds$, the \emph{conditioning method}
    $L_{\le}$ is given by $L_{\le}(\sigma) = \min_{\le}{\Xsnd_\sigma}$.
\end{definition}

Note that since $\Xsnd_\sigma \ne \emptyset$ for all $\sigma$\footnotemark{}
and $\worlds$ is finite, $L_{\le}$ is consistent. Moreover, $L_{\le}$ satisfies
\equivalence{}, \repetition{} and \soundness{} for any choice of $\le$.

\footnotetext{
    For example, if $\Pi^W_i = \{\vals\}$ for all $i$ then $W \in \Xsnd_\sigma$
    for all $\sigma$.
}

\begin{example}
    \label{tt_ex_conditioning_operators}
    We recall two concrete choices of $\le$ from \cref{chapter_belief_change}.

    \begin{enumerate}
        \item Set $W \le W'$ iff $r(W) \le r(W')$, where
              \[
                  r(W) = -\sum_{i \in \srcs} |\{
                      p \in \propvars
                      \mid
                      \Pi^W_i[p] = \propmods{p}
                  \}|.
              \]
              The most plausible worlds in this order are those in which
              source have as much expertise on the propositional variables as
              possible, on aggregate. The corresponding conditioning
              method is denoted by $L_\vbc{}$, standing for
              \emph{variable-based conditioning}.

        \item Set $W \le W'$ iff $r(W) \le r(W')$, where
              \[
                  r(W) = -\sum_{i \in \srcs} |\Pi^W_i|.
              \]
              This order aims to maximise the number of cells in each source's
              partitions, thereby maximising the number of propositions on
              which they have expertise. Note that the propositional variables
              play no special role. The corresponding conditioning
              operator is denoted by $L_\pbc{}$, for \emph{partition-based
              conditioning}.
    \end{enumerate}

\end{example}

A straightforward property of $\le$ characterises truth-tracking for
conditioning methods. For a generic total preorder $\le$, let $<$ denote its
strict part.

\begin{theorem}
    \label{tt_thm_conditioning_tt_characterisation}
    $L_{\le}$ is truth-tracking if and only if
    \begin{equation}
        \label{tt_eqn_conditioning_tt_characterisation}
        W \speclt W'
            \implies
                \exists W'' \speceq W \text{ such that }
                    W'' < W'.
    \end{equation}
\end{theorem}

Like \credulity{}, \cref{tt_eqn_conditioning_tt_characterisation} is a principle of
maximising trust in sources. Recall from that \cref{tt_lemma_spec_active_cell}
that $W \speclt W'$ means all sources are more knowledgeable in each case in
$W$ than in $W'$, and there is at least one source and case for which this
holds strictly. If we aim to trust sources as much as possible, we might impose
$W < W'$ here; then $W'$ is strictly less plausible and will be ruled out in
favour of $W$.  This yields a sufficient condition for truth-tracking, but to
obtain a necessary condition we need to allow a ``surrogate'' world $W'' \speceq
W$ to take the place of $W$.

\cref{tt_eqn_conditioning_tt_characterisation} is also intuitively similar to
\refinement{} from \cref{chapter_belief_change}, which requires that $W \le W'$
whenever $W \refines W'$ (where the latter condition means each partition
$\Pi^W_i$ refines $\Pi^{W'}_i$), but with the strict part of $\specleq$ taking
the place of $\refines$.

\begin{proof}[Proof of \cref{tt_thm_conditioning_tt_characterisation}]
    Write $L = L_{\le}$. Since $L$ satisfies \equivalence{}, \repetition{} and
    \soundness{}, we may use \cref{tt_thm_tt_characterisation}. Furthermore, it is
    sufficient by \cref{tt_lemma_equivalent_tt_property} to show that
    \cref{tt_eqn_conditioning_tt_characterisation} holds if and only if $L(\sigma)
    \subseteq T_\sigma$, whenever $T_\sigma \ne \emptyset$.

    ``if'': Suppose $W \speclt W'$. Let $\sigma$ be some pseudo-stream for $W$,
    so that $W \in T_\sigma$.\footnotemark{} Note that since $W \in T_\sigma
    \subseteq \Xsnd_\sigma$ and $W \speclt W'$, we have $W' \in \Xsnd_\sigma$
    also. By assumption, $L(\sigma) \subseteq T_\sigma = Q^*[W]$. Since $W
    \not\speceq W'$, this means $W' \in \Xsnd_\sigma \setminus L(\sigma)$. That
    is, $W'$ lies in $\Xsnd_\sigma$ but is not $\le$-minimal. Consequently
    there is $W'' \in \Xsnd_\sigma$ such that $W'' < W'$. Since $L$ is
    consistent, we may assume without loss of generality that $W'' \in
    L(\sigma)$. Hence $W'' \in Q^*[W]$, so $W'' \speceq W$.

    \footnotetext{
        For example, pick some stream $\rho$ and apply
        \cref{tt_lemma_stream_to_pseudostream} to obtain a pseudo-stream.
    }

    ``only if'': Suppose there is some $W \in T_\sigma$, and let $W' \in
    L(\sigma)$. We need to show $W' \in T_\sigma = Q^*[W]$, i.e. $W \speceq
    W'$. Since $W' \in L(\sigma) \subseteq \Xsnd_\sigma$,
    \cref{tt_lemma_tsigma_qstar} gives $W \specleq W'$. Suppose for contradiction
    that $W \not\speceq W'$. Then $W \speclt W'$. By
    \cref{tt_eqn_conditioning_tt_characterisation}, there is $W'' \speceq W$ such
    that $W'' < W'$. But $W'$ is $\le$-minimal in $\Xsnd_\sigma$, so this must
    mean $W'' \notin \Xsnd_\sigma$. On the other hand, $W'' \in Q^*[W] =
    T_\sigma \subseteq \Xsnd_\sigma$: contradiction.
\end{proof}

\begin{figure}
    \centering
    \input{chapters/truth-tracking/tikz/vbc_counterexample.tex}
    \caption{Worlds which demonstrate $L_\vbc{}$ is not truth-tracking.}
    \label{tt_fig_vbc_counterexample}
\end{figure}

\begin{example}
    \label{tt_ex_conditioning_operators_revisited}
    We revisit the methods of \cref{tt_ex_conditioning_operators}.

    \begin{enumerate}

        \item The variable-based conditioning method $L_\vbc{}$ is \emph{not}
              truth-tracking. Indeed, consider the worlds $W$ and $W'$ shown in
              \cref{tt_fig_vbc_counterexample}, where we assume $\propvars = \{p,
              q\}$, $\srcs = \{i\}$ and $\css = \{c\}$. Then $W \speclt W'$
              (e.g. by \cref{tt_lemma_spec_active_cell}).
              Note that $i$ does not have expertise on $p$ or $q$ in both $W$
              and $W'$, so $r(W) = r(W') = 0$. Moreover, $i$'s partition is
              uniquely determined in $Q^*[W]$ by
              \cref{tt_thm_qstar_unique_ipartition_conditions}, so if $W'' \speceq
              W$ then $r(W'') = 0$ also. That is, there is no $W'' \speceq W$
              such that $W'' < W'$. Hence
              \cref{tt_eqn_conditioning_tt_characterisation} fails, and $L_\vbc{}$
              is not truth-tracking.
                %
              Intuitively, the problem here is that since $i$'s expertise is
              not split along the lines of the propositional variables when $W$
              is the actual world, $L_\vbc{}$ will always maintain $W'$ as a
              possibility.

          \item The partition-based conditioning method $L_\pbc{}$ \emph{is}
                truth-tracking. Indeed, if $W \speclt W'$ we may construct
                $W''$ from $W$ by modifying the partition of each source $i$ so
                that all valuations outside of $\bigcup_{c \in
                \css}{\Pi^W_i[v^W_c]}$ lie in their own cell.
                Then $W \speceq W''$. One can show that $\Pi^{W''}_i$ refines
                $\Pi^{W'}_i$ for all $i \in \srcs$, and there is some $i$ for
                which the refinement is strict. Hence the partitions in $W''$
                contain strictly more cells, so $W'' < W'$.

    \end{enumerate}

\end{example}

\subsection{Score-based Methods}
\label{tt_sec_score_based_methods}

In this section we consider the other class of methods introduced in
\cref{chapter_belief_change}: \emph{score-based} methods. As with conditioning
methods above, we consider a more restricted class in which we dispense with
the prior plausibility ranking $r_0$ from \cref{kr_def_score_based}, and fix
knowledge as soundness.

\begin{definition}
    For a function $d: \worlds \times (\srcs \times \css \times \Lprop) \to
    \N_{0}$ and a sequence $\sigma$, write
    \[
        r_d^\sigma(W)
        = \sum_{\tuple{i, c, \phi} \in \sigma}{d(W, \tuple{i, c, \phi})}.
    \]
    The \emph{score-based method} $L_d$ is then given by
    $L_d(\sigma) = \argmin_{W \in \Xsnd_\sigma}{r_d^\sigma(W)}$.
\end{definition}

As before, $d(W, \tuple{i, c, \phi})$ represents a measure of ``disagreement''
between the world $W$ and report $\tuple{i, c, \phi}$; the greater $d(W,
\tuple{i, c, \phi})$, the less plausible it is deemed for $i$ to report $\phi$
in case $c$. The conjecture $L_d(\sigma)$ consists of the worlds $W$ satisfying
the soundness constraints of $\sigma$ with minimal disagreement score, computed
as the sum $r_d^\sigma(W)$ of the disagreement on each report.
%
$L_d$ is consistent and satisfies both \repetition{} and \soundness{} for any
choice of $d$.

\begin{example}
    \label{tt_ex_exm}
    Adapting the score-based example from \cref{chapter_belief_change} to this
    setting, take
    \[
        d(W, \tuple{i, c, \phi})
        = |\Pi^W_i[\phi] \setminus \propmods{\phi}|.
    \]
    The corresponding method aims to minimise the ``excess'' valuations
    in $\Pi^W_i[\phi]$ which are not themselves models of $\phi$. We denote
    it by $L_\exm$, standing for \emph{excess-minimisation}.
\end{example}

Truth-tracking for score-based operators satisfying \equivalence{} can be
characterised in almost exactly the same way as for conditioning operators,
using a property similar to \cref{tt_eqn_conditioning_tt_characterisation}.

\begin{theorem}
    \label{tt_thm_scorebased_tt_suff_cond}
    Suppose $d$ is such that $d(W, \tuple{i, c, \phi}) = d(W, \tuple{i, c,
    \psi})$ whenever $\phi \equiv \psi$. Then $L_d$ is truth-tracking if and
    only if
    \begin{equation}
        \label{tt_eqn_scorebased_tt_characterisation}
        W \in T_\sigma \text{ and }
            W \speclt W'
                \implies
                    \exists W'' \speceq W \text{ such that }
                        r_d^\sigma(W'') < r_d^\sigma(W').
    \end{equation}
\end{theorem}

The proof is essentially identical to that of
\cref{tt_thm_conditioning_tt_characterisation}, and is thus omitted.

\begin{example}
    \label{tt_ex_exm_truth_tracking}
    Revisiting \cref{tt_ex_exm}, we find that $L_\exm$ is truth-tracking.
    Indeed, it is clear that $d$ treats equivalent formula identically, since
    $d(W, \tuple{i, c, \phi})$ only depends on $\Pi^W_i$ and $\propmods{\phi}$.
    Given $W \in T_\sigma$ and $W \speclt W'$ one can take $W''$ in the
    same way as for $L_\pbc$ in
    \cref{tt_ex_conditioning_operators_revisited}. Then $\Pi^{W''}_i$ refines
    $\Pi^{W'}_i$ for all $i$, so $d(W'', \tuple{i, c, \phi}) \le d(W',
    \tuple{i, c, \phi})$ for all $\tuple{i, c, \phi} \in \sigma$. Consequently,
    $r_d^\sigma(W'') \le r_d^\sigma(W')$. Moreover, since $W \speclt W'$
    there is some $i$ and $c$ such that $\Pi^{W}_i[v^{W}_c]
    \subset \Pi^{W'}_i[v^{W'}_c]$. Taking any $\phi$ such that $\propmods{\phi}
    = \Pi^{W}_i[v^{W}_c]$, we have $W, c \models \S_i\phi$. Since $W \in
    T_\sigma$, there is some $\psi \equiv \phi$ such that $\tuple{i, c, \psi}
    \in \sigma$. Now, since $W \speceq W''$ we have $\Pi^{W''}_i[v^{W''}_c] =
    \Pi^{W}_i[v^W_c]$. Consequently
    \[
        \Pi^{W''}_i[\psi]
        = \Pi^{W''}_i[\Pi^W_i[v^W_c]]
        = \Pi^{W''}_i[\Pi^{W''}_i[v^{W''}_c]]
        = \Pi^{W''}_i[v^{W''}_c]
        = \Pi^W_i[v^W_c]
        = \propmods{\psi}
    \]
    and thus $d(W'', \tuple{i, c, \psi})= 0$. On the other hand,
    $\Pi^{W'}_i[v^{W'}_c] \supset \propmods{\psi}$ implies $\Pi^{W'}_i[\psi] =
    \Pi^{W'}_i[v^{W'}_c]$, and so
    \[
        d(W', \tuple{i, c, \psi})
        = |\Pi^{W'}_i[v^{W'}_c] \setminus \propmods{\psi}|
        > 0 = d(W'', \tuple{i, c, \psi}),
    \]
    which gives $r_d^\sigma(W'') < r_d^\sigma(W')$ as required.
\end{example}

\section{Belief-based streams}
\label{tt_sec_belief_based_streams}

So far our model of source inputs is based on sound and complete streams, in
which sources report all (and only) sound formulas. This is perhaps not
realistic in situations where sources have \emph{beliefs}, possibly going
beyond their knowledge. For instance, in our running example the doctor $\dr$
may \emph{believe} $\patientA$ suffers from $p$ but not \emph{know} so; in this
case $\neg{p}$ is sound -- and would thus be reported, in our model so far --
when in fact $\dr$ believes its negation. To remedy this we introduce
additional structure on top of worlds which express sources' beliefs about the
true valuation in each case. The analogue of a stream then enumerates the
beliefs of each source. Such streams differ from the earlier notion in that
while all beliefs are sound, not all sound statements are believed. Intuitively
such streams are less informative; this will be formalised in
\cref{tt_prop_qstar_refines_qstarb} below.

Formally, each source's beliefs in a particular case will be modelled by
\emph{plausibility orders} over valuations.

\begin{definition}
    A \emph{belief structure} is an assignment $\b = \{{\le_{ic}}\}_{i \in
    \srcs, c \in \css}$ of total preorders $\le_{ic}$ over $\vals$ to each
    source $i$ and case $c$.
\end{definition}

A belief structure is independent of any world, and can be thought of as the
source's \emph{prior beliefs} about the ``actual'' valuation in each case: $u
\le_{ic} v$ means $i$ considers $u$ at least as plausible as $v$ for the actual
valuation in case $c$. In a given world $W$, the set $\Pi^W_i[v^W_c]$ contains
the valuations indistinguishable from the actual valuation $v^W_c$. This can be
interpreted as the \emph{observation} of $i$ for case $c$ in the world $W$,
since it contains exactly those valuations which are possible candidates from
the point of view of $i$'s expertise. Combining a belief structure $\b$ with a
world $W$, the maximally plausible such candidates form each source's belief
set.

\begin{definition}
    Given a belief structure $\b = \{{\le_{ic}}\}_{i \in \srcs, c \in \css}$
    and a world $W$, source $i$ \emph{believes} $\phi$ in case $c$, denoted $W,
    c
    \models_\b \B_i\phi$, if
    \[
        \min\nolimits_{\le_{ic}}{\Pi^W_i[v^W_c]} \subseteq \propmods{\phi}.
    \]
\end{definition}

That is, $i$ believes $\phi$ in case $c$ if $\phi$ holds in all the most
plausible states among those indistinguishable from the actual one. Since
$\vals$ is finite and $\Pi^W_i[v^W_c]$ is non-empty (it contains $v^W_c$, at
least), so too is the minimum. Consequently, the beliefs of each source in each
case are consistent.
%
There is also similarity with the conditioning methods
from \cref{tt_sec_conditioning_methods}, where a plausibility order is used to
select the most plausible worlds. A key difference here is that each source has
a plausibility order over \emph{valuations}, not worlds.

This notion of belief is compatible with expertise and soundness: all beliefs
are sound, and experts hold correct beliefs.

\begin{proposition}
    \label{tt_prop_belief_exp_sound_compatibility}
    Let $\b$ be a belief structure and $W$ a world. Then
    \begin{enumerate}
        \item \label{tt_item_beliefs_are_sound} If $W, c \models_\b \B_i\phi$
              then $W, c \models \S_i\phi$.
          \item \label{tt_item_expertise_correct_beliefs} If $W, c \models
                \E_i\phi$, then $W, c \models_\b \B_i\phi$ if and only if $W, c
                \models \phi$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    Fix $\b$ and $W$.
    \begin{enumerate}
        \item Suppose $W, c \models_\b \B_i\phi$. As noted above,
              $\min_{\le_{ic}}{\Pi^W_i[v^W_c]}$ is non-empty, and thus contains
              some valuation $v$. Since $\B_i\phi$ holds, we have $v \in
              \propmods{\phi}$. But also $v \in \Pi^W_i[v^W_c]$; hence $v^W_c
              \in \Pi^W_i[v] \subseteq \Pi^W_i[\phi]$, i.e. $W, c \models
              \S_i\phi$.
        \item Suppose $W, c \models \E_i\phi$. First suppose $W, c \models_\b
            \B_i\phi$. By \cref{tt_item_beliefs_are_sound}, $W, c \models
            \S_i\phi$. Since $\E_i\phi \land \S_i\phi \limplies \phi$ is a
            validity, $W, c \models \phi$ as required.
            %
            Conversely, suppose $W, c \models \phi$. Then $v^W_c \in
            \propmods{\phi}$, so $\Pi^W_i[v^W_c] \subseteq \Pi^W_i[\phi]$. But
            since $i$ has expertise on $\phi$, we have $\Pi^W_i[\phi] =
            \propmods{\phi}$; hence $\Pi^W_i[v^W_c] \subseteq \propmods{\phi}$.
            Clearly the $\le_{ic}$-minimal valuations in $\Pi^W_i[v^W_c]$ are
            also members of $\propmods{\phi}$, so $W, c \models_\b \B_i\phi$.
    \end{enumerate}
\end{proof}

We come to an example.

\begin{example}
    \label{tt_ex_belief_structure}
    Consider the setting of \cref{tt_ex_informal_example}.
    Based on the age and other characteristics of the patients $\patientA$ and
    $\patientB$, the doctor $\dr$ has prior beliefs about the likely incidence
    of conditions $p$ and $q$, as described by the following belief structure
    $\b$:
    \begin{align*}
        {\le_{\dr,\patientA}}
            &: \bar{p}\bar{q} < p\bar{q} < \bar{p}q < pq \\
        {\le_{\dr,\patientB}}
            &: pq \simeq \bar{p}q \simeq p\bar{q} \simeq \bar{p}\bar{q}.
    \end{align*}
    That is, $\dr$ considers it on the whole plausible for $\patientA$ to be
    healthy on both counts, but more likely that $\patientA$ suffers only from
    $p$ than only $q$. On the other hand, no data is available for patients
    of $\patientB$'s age, and thus the plausibility order $\le_{\dr,\patientB}$
    is the flat one in which all possibilities are equally plausible.

    Supposing $W$ from \cref{tt_fig_example_world} is the actual world (for
    convenience we reproduce the figure in \cref{tt_fig_example_world_repro}),
    $\dr$ then observes both patients. Since the actual valuations
    $v^W_{\patientA}$ and $v^W_{\patientB}$ lie in the same cell in
    $\Pi^W_{\dr}$, $\dr$ lacks expertise to distinguish them with certainty; we
    have
    \[
        \Pi^W_{\dr}[v^W_{\patientA}]
        =
        \Pi^W_{\dr}[v^W_{\patientB}]
        =
        \{pq, p\bar{q}, \bar{p}q\}.
    \]
    However, the difference in the plausibility orders $\le_{\dr,\patientA}$
    and $\le_{\dr,\patientB}$ leads to different beliefs: we have
    \[
        \min\nolimits_{\le_{\dr,\patientA}}{\Pi^W_{\dr}[v^W_{\patientA}]}
        = \min\nolimits_{\le_{\dr,\patientA}}\{pq, p\bar{q}, \bar{p}q\}
        = \{p\bar{q}\}
    \]
    whereas
    \[
        \min\nolimits_{\le_{\dr,\patientB}}{\Pi^W_{\dr}[v^W_{\patientB}]}
        = \Pi^W_{\dr}[v^W_{\patientB}]
        = \{pq, p\bar{q}, \bar{p}q\}.
    \]

    Note that for $\patientA$ the doctor $\dr$ has beliefs going beyond mere
    knowledge, and in fact $\dr$ holds \emph{false beliefs}: we have $W,
    \patientA \models_\b \B_{\dr}p$ but $W, \patientA \models \neg{p}$. This is
    not so for $\patientB$; in this case all beliefs are known and therefore
    true, since the actual valuation $v^W_\patientB = pq$ is contained in
    $\min_{\le_{\dr,\patientB}}{\Pi^W_{\dr}[v^W_{\patientB}]}$.
\end{example}

\begin{figure}
    \centering
    \input{chapters/truth-tracking/tikz/world_example.tex}
    \caption{
        Reproduction of \cref{tt_fig_example_world}.
    }
    \label{tt_fig_example_world_repro}
\end{figure}

We can now consider ``belief-based'' streams, which enumerate source beliefs.

\begin{definition}
    A sequence of reports $\rho$ is a \emph{$\b$-stream} for a world $W$ iff for
    all $i, c, \phi$:
    \[
        \tuple{i, c, \phi} \in \rho \iff W, c \models_\b \B_i\phi.
    \]
\end{definition}

This is essentially the same notion as streams from \cref{tt_def_stream}, but
with $\B_i\phi$ replacing $\S_i\phi$.

\begin{example}
    Consider $W$ from \cref{tt_fig_example_world_repro} and source $\dr$.
    Continuing from \cref{tt_ex_belief_structure}, the reports from $\dr$ for
    case $\patientA$ in any $\b$-stream enumerate $\cnprop{p \land \neg{q}}$,
    and the reports for case $\patientB$ enumerate $\cnprop{p \lor q}$.
\end{example}

A notion of \emph{$\b$-solvability} comes naturally.

\begin{definition}
    A method $L$ is said  to \emph{$\b$-solve} a question $Q$ if for all $W$ and
    all $\b$-streams $\rho$ for $W$, there is $n \in \N$ such that $L(\rho[m])
    \subseteq Q[W]$ for all $m \ge n$.
\end{definition}

Again mirroring the definitions from earlier, a preorder $\specleq_\b$ can be
defined on worlds, where
\[
    W \specleq_\b W'
    \iff
    \forall i, c, \phi:\
        (W, c \models_\b \B_i\phi \implies W', c \models \B_i\phi).
\]
The analogue of \cref{tt_lemma_spec_active_cell} is as follows.

\begin{lemma}
    \label{tt_lemma_specleq_b}
    $W \specleq_\b W'$ if and only if for all $i \in \srcs$ and $c \in \css$,
    $\min_{\le_{ic}}{\Pi^W_i[v^W_c]} \supseteq
    \min_{\le_{ic}}{\Pi^{W'}_i[v^{W'}_c]}$.
\end{lemma}

\begin{proof}
    The ``if'' direction is straightforward. For the ``only if'' part, suppose
    $W \specleq_\b W'$, and take $i \in \srcs$, $c \in \css$. Taking $\phi$ to
    be any formula with $\propmods{\phi} = \min_{\le_{ic}}{\Pi^W_i[v^W_c]}$, we
    have $W, c \models_\b \B_i\phi$. Since $W \specleq_\b W'$ this means $W', c
    \models_\b \B_i\phi$, i.e.
    \[
        \min\nolimits_{\le_{ic}}{\Pi^{W'}_i[v^{W'}_c]}
        \subseteq \propmods{\phi}
        = \min\nolimits_{\le_{ic}}{\Pi^W_i[v^W_c]}
    \]
    as required.
\end{proof}

The equivalence relation $\speceq_\b$ induced by $\specleq_\b$ defines a question
$Q^*_\b$. As one might anticipate by our choice of notation, $Q^*_\b$ is the
hardest $\b$-solvable question. In analogy with the $\Xsnd_\sigma$ notation for
the set of worlds satisfying all soundness constraints of $\sigma$, write
$\Xbel{\b}_\sigma$ for the set of worlds $W$ such that $W, c \models_\b \B_i\phi$
for all $\tuple{i, c, \phi} \in \sigma$.

\begin{theorem}
    \label{tt_thm_bsolvability}
    $Q$ is $\b$-solvable if and only if $Q^*_\b \refines Q$.
\end{theorem}

\begin{proof}[Proof (sketch)]
    ``if'': It suffices to show that $Q^*_\b$ can be $\b$-solved by a consistent
    method $L$. In fact, the same approach to showing $Q^*$ is solvable on
    sound streams (\cref{tt_prop_qstar_solvable}) can be applied here. Set
    $L(\sigma) = \min_{\specleq_\b}{\Xbel{\b}_\sigma}$ if $\Xbel{\b}_\sigma \ne
    \emptyset$, and $L(\sigma) = \worlds$ otherwise. By an argument identical
    to that of \cref{tt_prop_qstar_solvable} -- with notions of soundness
    replaced by belief with respect to $\b$ -- one can show $L$ solves $Q^*_\b$.

    ``only if'': This can be shown by an argument identical to that of
    \cref{tt_lemma_solvable_implies_coarser_than_qstar}, using the fact that $W
    \speceq_\b W'$ implies $W$ and $W'$ have exactly the same $\b$-streams.
\end{proof}

The question of whether there is a \emph{single} method $L$ which
simulatenously $\b$-solves all $Q^*_\b$ remains open.

\cref{tt_thm_bsolvability} shows that $Q^*_\b$ plays the same role with respect
to $\b$-streams as $Q^*$ does with respect to sound and complete streams.
Accordingly, we say a method $L$ is \emph{$\b$-truth-tracking} if it
$\b$-solves $Q^*_\b$. By comparing $Q^*$ with $Q^*_\b$, one can assess the
\emph{informativeness} of truth-tracking via sound and complete streams versus
$\b$-streams. We shall see that $Q^*$ is always at least as informative as
$Q^*_\b$: we have $Q^* \refines Q^*_\b$. This can be interpreted as
informativeness via the analysis of \cref{tt_sec_learning_info}, where we
looked at what one can learn about $W$ from the correct answer $Q^*[W]$ (which
truth-tracking methods are guaranteed to eventually find).  Indeed, $Q^*
\refines Q^*_\b$ means $Q^*[W] \subseteq Q^*_\b[W]$ for all $W$, so the correct
answer to $Q^*$ narrows down the possibilities for the ``actual'' world to a
greater extent than $Q^*_\b$ does, and thus reveals more information about the
actual world itself.

Moreover, $Q^*$ is \emph{strictly} more informative for all but one choice of
belief structure: the ``flat'' structure $\b_\flat$, where each $\le_{ic}$ is
the flat ranking ${\le_{ic}} = \vals \times \vals$. In this case source beliefs
do not go beyond knowledge at all; all reports in a $\b_\flat$-stream are
therefore \emph{true}, but will not be very \emph{specific} when sources are
non-experts.

\begin{proposition}
    \label{tt_prop_qstar_refines_qstarb}
    $Q^* \refines Q^*_\b$ for all belief structures $\b$, and $Q^*_\b =
    Q^*$ if and only if $\b = \b_\flat$.\footnotemark{}
\end{proposition}

\footnotetext{
    For the second statement we assume $|\propvars| \ge 2$.
}

\begin{proof}
    First, take any belief structure $\b$. We show that $Q^*[W] \subseteq
    Q^*_\b[W]$ for all $W$. Indeed, if $W' \in Q^*[W]$ then $W \speceq W'$, so
    by \cref{tt_lemma_spec_active_cell} we have $\Pi^W_i[v^W_c] =
    \Pi^{W'}_i[v^{W'}_c]$ for all $i$ and $c$. Evidently the minimal elements
    with respect to $\le_{ic}$ of both sets must also be the same, so we get $W
    \speceq_\b W'$ by \cref{tt_lemma_specleq_b}. That is, $W' \in Q^*_\b[W]$.
    Hence $Q^* \refines Q^*_\b$.

    For the second statement, we first show the ``if'' direction, i.e. that
    $Q^*_{\b_\flat} = Q^*$. Indeed, since $\le_{ic} = \vals \times \vals$ we
    have $\min_{\le_{ic}}{U} = U$ for any set $U \subseteq \vals$. Consequently
    $W \speceq_{\b_\flat} W'$ if and only if $\Pi^W_i[v^W_c] =
    \Pi^{W'}_i[v^{W'}_c]$ -- using \cref{tt_lemma_specleq_b} -- which is in
    turn equivalent to $W \speceq W'$ by \cref{tt_lemma_spec_active_cell}.
    Hence $Q^*_{\b_\flat} = Q^*$.

    For the ``only if'' part we show the contrapositive. Suppose $\b \ne
    \b_\flat$. We will show $Q^*_\b \not\refines Q^*$, i.e. that there are $W,
    W'$ such that $W \speceq_\b W'$ but $W \not\speceq W'$. Since $\b \ne
    \b_\flat$, there exist $i_0 \in \srcs$, $c_0 \in \css$ and $u, v \in \vals$
    such that $u <_{i_0,c_0} v$. By the assumption $|\propvars| \ge 2$ we have
    $|\vals| \ge 4$, so we may choose some $w \in \vals \setminus \{u, v\}$.
    Construct $W$ by setting
    \begin{align*}
        v^W_{c_0} &= u, \\
        v^W_c &= w, \qquad (c \in \css \setminus \{c_0\}) \\
        \Pi^W_i &= \Pi_\bot. \qquad (i \in \srcs)
    \end{align*}
    Then $\Pi^W_i[v^W_c]$ is the singleton set $\{v^W_c\}$ for all $i$ and
    $c$, and so too is belief set $\min_{\le_{ic}}{\Pi^W_i[v^W_c]}$.
    %
    Now construct $W'$ by modifying the partition of source $i_0$ so that
    \[
        \Pi^{W'}_{i_0} = \{\{u, v\}, \{w\}, \vals \setminus \{u, v, w\}\}.
    \]
    The belief sets of sources $i \ne i_0$ are clearly unchanged, as are the
    belief sets for $i_0$ in cases $c \ne c_0$ (since
    $\Pi^{W'}_{i_0}[v^{W'}_c]$ is the singleton set $\{w\}$). For $i_0$ in case
    $c_0$ we
    have $\Pi^{W'}_{i_0}[v^{W'}_{c_0}] = \Pi^{W'}_{i_0}[u] = \{u, v\}$; but
    since $u <_{i_0,c_0} v$ by assumption,
    \[
        \min\nolimits_{\le_{i_0,c_0}}{\Pi^{W'}_{i_0}[v^{W'}_{c_0}]}
        = \{u\}
        = \min\nolimits_{\le_{i_0,c_0}}{\Pi^{W}_{i_0}[v^{W}_{c_0}]}.
    \]
    From \cref{tt_lemma_specleq_b} it follows that $W \speceq_\b W'$. However,
    we have already seen that $\Pi^W_{i_0}[v^W_{c_0}] = \{u\}$ whereas
    $\Pi^{W'}_{i_0}[v^{W'}_{c_0}] = \{u, v\}$, so $W \not\speceq W'$ by
    \cref{tt_lemma_spec_active_cell}. This completes the proof.
\end{proof}

Both parts of \cref{tt_prop_qstar_refines_qstarb} together imply
$Q^*_{\b_\flat} \refines Q^*_\b$. However, some subtelty is required in
interpreting this refinement. In
\cref{tt_sec_characterising_solvable_questions} refinement of questions was
expressed as a \emph{difficulty ordering}, since if $Q \refines Q'$ then any
method solving $Q$ will also solve $Q'$; in this sense $Q'$ is \emph{easier}
than $Q$. This also holds in the extension to belief-based streams, but only
for a \emph{fixed} notion of solvability. For instance, $Q^*_{\b_\flat}
\refines Q^*_\b$ does \emph{not} imply that a method $\b_\flat$-solving
$Q^*_{\b_\flat}$ will $\b$-solve $Q^*_\b$, i.e. that $\b_\flat$-truth-tracking
methods are $\b$-truth-tracking for all other $\b$.\footnotemark{}

\footnotetext{
    Indeed, this is false: since all reports in a $\b_\flat$-stream are true,
    they must be jointly consistent in each case $c \in \css$. One can
    therefore construct a $\b_\flat$-truth-tracking method $L$ which reverts to
    the trivial conjecture $L(\sigma) = \worlds$ whenever the reports in
    $\sigma$ are not jointly consistent; this problem never arises on
    $\b_\flat$-streams, but will cause $L$ to fail to be $\b$-truth-tracking
    for non-flat $\b$.
}

Rather, \cref{tt_prop_qstar_refines_qstarb} places an upper bound on the
informativeness of truth-tracking via belief-based streams. Indeed, in certain
instances belief-based streams are particularly \emph{uninformative}. For
example, consider $W$ such that all sources have complete expertise, i.e.
$\Pi^W_i = \Pi_\bot$ for all $i \in \srcs$. Under soundness-based streams, the
actual valuation $v^W_c$ is determined exactly in $Q^*[W]$, and is thus found
by truth-tracking methods. However, one can easily construct a belief structure
$\b$ and an alternative world $W'$ such that all sources share the same beliefs
in $W$ as in $W'$ -- i.e. $W \speceq_\b W'$ -- but where these beliefs are
\emph{false} in $W'$. Consequently, $Q^*_\b[W]$ reveals no information about
the actual valuations whatsoever, despite the fact that the sources are
unanimously correct in $W$.

The problem here is the existence of ``degenerate'' worlds such as $W'$, where
all sources are unanimously incorrect in their beliefs. In probability-based
Jury theorems~\cite{grofman1983thirteen}, such degenerate worlds occur with low
probability due to the choice of the probabilistic model and assumption placed
on sources. We sketch a somewhat more extreme solution, where such
worlds are excluded from consideration entirely.

Concretely, given a belief structure and a set of worlds $S \subseteq \worlds$
and $W \in S$, thought of as the ``actual'' world, one can consider the extent
to which $Q^*_\b[W] \cap S$ reveals information about $W$. That is, worlds in
$\worlds \setminus S$ are ignored. In place of a systemic study, we explore
this concept via examples of particular choices of $S$. In what follows we
consider an arbitrary but fixed belief structure $\b$.

\paragraph{A majority of experts.}

For a given formula $\phi \in \Lprop$, let $S_\phi$ denote the set of worlds in
which a strict majority of sources have expertise on $\phi$:
\[
  W \in S_\phi
  \iff
  |\{i \in \srcs \mid \Pi^W_i[\phi] = \propmods{\phi}\}|
  > \frac{|\srcs|}{2}.
\]
Then for $W \in S_\phi$, $Q^*_\b[W] \cap S_\phi$ decides $\phi$ in all cases $c
\in \css$.

Indeed, take $c \in \css$. Letting $I_W$ denote the set of source with
expertise on $\phi$ in $W$, for any two worlds $W, W' \in S_\phi$ there is
necessarily some $i \in I_W \cap I_{W'}$; otherwise $|I_W \cup I_{W'}| = |I_W|
+ |I_{W'}| > |\srcs|$, which cannot be. Thus, $W, c \models \E_i\phi$ and $W',
c \models \E_i\phi$. If additionally $W \speceq_\b W'$ then $W, c \models_\b
\B_i\phi$ if and only if $W', c \models_\b \B_i\phi$.  But by
\cref{tt_prop_belief_exp_sound_compatibility}
\cref{tt_item_expertise_correct_beliefs}, this means $W, c \models \phi$ if and
only if $W', c \models \phi$. That is to say, each world in $Q^*_\b[W] \cap
S_\phi$ agrees with $W$ on the truth value of $\phi$ in case $c$, and
consequently $Q^*_\b[W] \cap S_\phi$ decides $\phi$.

In other words, any $\b$-truth-tracking method is guaranteed to eventually find
the correct truth value of $\phi$, if worlds outside $S_\phi$ are deemed
impossible.

\paragraph{Plurality coalitions.}

Requiring a strict majority of experts as above may be deemed too strong an
assumption; we now consider a weaker notion. Write $\bel{W}{i}{c} = \{\phi \in
\Lprop \mid W, c \models_\b \B_i\phi\}$ for the beliefs of $i$ in case $c$. Say
$I \subseteq \srcs$ is a \emph{coalition} (w.r.t $W$) if $\bigcup_{i \in
I}{\bel{W}{i}{c}}$ is consistent for each $c \in \css$. Note that the set of
sources $J_W = \{i \mid \forall c \in \css, W, c \models \bel{W}{i}{c}\}$ with
correct beliefs forms a coalition, which we call the \emph{correct coalition}.

Now let $S_\plurality$ be the set of worlds in which the correct coalition
forms a \emph{plurality}, i.e. $W \in S_\plurality$ iff $|J_W| > |I|$ for all
coalitions $I$ w.r.t $W$ such that $I \ne J_W$. Note that $J_W$ need not be a
majority: we may have $|J_W| \le \frac{|\srcs|}{2}$.

Then for any $W \in S_\plurality$, and $c \in \css$, we have $Q^*_\b[W] \cap
S_\plurality, c \models \bigcup_{i \in J_W}{\bel{W}{i}{c}}$. That is, any
$\b$-truth-tracking method -- when restricted to consider only worlds in
$S_\plurality$ -- eventually comes to believe all the correct sources in $J_W$.

Indeed, if $W' \in Q^*_\b[W] \cap S_\plurality$ then $\bel{W}{i}{c} =
\bel{W'}{i}{c}$ for all $i$ and $c$, so $I \subseteq \srcs$ is a coalition
w.r.t $W$ if and only if $I$ is a coalition w.r.t $W'$. In particular, $J_W$ is
a coalition w.r.t $W'$, which implies $|J_W| \le |J_{W'}|$. Likewise, $J_{W'}$
is a coalition w.r.t $W$, so $|J_{W'}| \le |J_W|$. Hence $|J_W| = |J_{W'}|$.
Since $J_W$ is the largest coalition w.r.t $W$, this means $J_W = J_{W'}$.
Thus, recalling that $i \in J_{W'}$ implies $W', c \models \bel{W'}{i}{c}$, we
have $W', c \models \bigcup_{i \in J_W}{\bel{W}{i}{c}}$ as required.

\begin{example}
    Consider the setting $\propvars = \{p, q\}$, $\srcs =
    \{i_1,i_2,i_3,j_1,j_2\}$, $\css = \{c,d,e\}$. One can construct $W$ and
    $\b$ such that $\neg{p}$ holds in each case, and the beliefs of sources are
    described by the following sequence:
    \begin{align*}
      \sigma =&
      (\tuple{i_1, c, p},
      \tuple{i_2, c, p \land q},
      \tuple{i_3, c, p \land \neg{q}},
      \tuple{j_1, c, \neg{p}},
      \tuple{j_2, c, \neg{p}},
      \\
      &
      \tuple{i_1, d, p \land q},
      \tuple{i_2, d, p \land \neg{q}},
      \tuple{i_3, d, p},
      \tuple{j_1, d, \neg{p}},
      \tuple{j_2, d, \neg{p}},
      \\
      &
      \tuple{i_1, e, p \land q},
      \tuple{i_2, e, p},
      \tuple{i_3, e, p \land \neg{q}},
      \tuple{j_1, e, \neg{p}},
      \tuple{j_2, e, \neg{p}}).
    \end{align*}
    Observe that $j_1$ and $j_2$ report $\neg{p}$ in each case, but
    are out-voted by $i_1, i_2$ and $i_3$, whose reports imply $p$.
    However, $i_2$ and $i_3$ disagree on $q$ in case $c$, $i_1$ and
    $i_2$ disagree in case $d$, and $i_3$ disagree in case $e$.
    Consequently the only non-empty coalitions are $\{i_1\}$,
    $\{i_2\}$, $\{i_3\}$ and $\{j_1, j_2\}$, with $J_W$ being the
    latter. We see that even though $j_1$ and $j_2$ are in the
    minority on $p$ in each case, they form the largest coalition
    consistent \emph{across cases}, and thus $W \in S_\plurality$. In
    particular, any $\b$-truth-tracking method eventually believes
    $\neg{p}$ in all cases.
\end{example}

Clearly these two choices of $S$ are not exhaustive, and the reader may
conceive of other reasonable assumptions to be placed on worlds in order to
improve the informativeness of truth-tracking with belief streams. We leave a
more in-depth study to future work; in the meantime it is hoped that the above
results show the approach is at least feasible, and yields interesting results
in the aforementioned special cases.

\section{Conclusion}
\label{tt_sec_conclusion}

\paragraph{Summary.}

In this chapter we studied truth-tracking in the presence of non-expert
sources.  To start with, the model assumes sources report everything true
\emph{up to their lack of expertise}, i.e. all that they consider possible. We
obtained precise characterisations of when truth-tracking methods can uniquely
find the valuations of a world $W$, and in doing so showed how sources may
\emph{combine} their expertise to track the truth. Similar results were
presented for finding the actual partitions of a world $W$, i.e. finding the
true extent of each source's expertise.

We then presented the \credulity{} postulate, which characterises
truth-tracking methods under mild assumptions. Roughly speaking, this postulate
says that one needs to \emph{trust} sources to be experts wherever possible.
Purely deductive reasoning -- in which one does not conjecture beyond the fact
that each received report is sound -- fails to be credulous enough in this
sense, and thus some amount of \emph{non-monotonic} reasoning is required for
truth-tracking.

Next, we reconsidered the conditioning and score-based methods of
\cref{chapter_belief_change} in the context of truth-tracking. Interestingly,
it was seen that the variable-based conditioning method $L_\vbc{}$ is
\emph{not} truth-tracking, but the partition-based conditioning method
$L_\pbc{}$ and score-based method $L_\exm$ are. The success of the latter two
methods showed that truth-tracking is compatible with rational belief change as
expressed by the postulates of \cref{chapter_belief_change} (which are
satisfied by all three methods).

Finally, we introduced a mechanism by which sources form \emph{beliefs} --
possibly going beyond their knowledge, and possibly false in the actual world.
Similar notions of truth-tracking were introduced, and some examples were given
of how certain assumptions on worlds can improve the informativeness of
truth-tracking in this setting.

\paragraph{Limitations and future work.}

Conceptually, the assumption that streams are complete is very strong. As seen
in \cref{tt_ex_stream}, completeness requires sources to give jointly
inconsistent reports whenever $\Pi_i[v_c]$ contains more than just $v_c$. Such
reports provide information about the source's expertise: if $i$ reports both
$\phi$ and $\neg\phi$ we know $\neg\E_i\phi$. To provide all sound reports
sources must also have \emph{negative introspection} over their own knowledge,
i.e. they \emph{know} when they do not know something. Indeed, as seen in
\cref{chapter_expertise,chapter_belief_change}, soundness is closely related to
\emph{S5 knowledge} (when partitions are used to represent expertise) which has
been criticised in the philosophical literature as too strong.

While this was partially remedied in \cref{tt_sec_belief_based_streams}, the
results there are somewhat preliminary. For instance, we did not proceed
systematically in identifying assumptions under which belief-based
truth-tracking can be made more informative, in sense of revealing more
information about the actual world $W$. Instead, we presented two ad-hoc
examples based on the number of expert sources and coalitions of jointly
consistent sources. It also remains to investigate our concrete example methods
from \cref{chapter_belief_change} in relation to belief-based truth-tracking.
Some of these methods were shown to be truth-tracking on sound and complete
streams in
\cref{tt_ex_conditioning_operators_revisited,tt_ex_exm_truth_tracking}; are
they also $\b$-truth-tracking?

On the technical side, our results on solvability of $Q^*$ and the
characterisation of \cref{tt_thm_tt_characterisation} rely on the fact that we
only consider finitely many worlds. In a sense this trivialises the problem of
induction as studied by \textcite{kelly1997reliable,Baltag_2016}, among others. In
future work it would be interesting to see which results can be carried over to
the case where $\propvars$ is infinite.
